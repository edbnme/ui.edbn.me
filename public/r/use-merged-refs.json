{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-merged-refs",
  "type": "registry:hook",
  "title": "useMergedRefs",
  "description": "Hook to merge multiple refs into a single callback ref.",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "hooks/use-merged-refs.ts",
      "content": "\"use client\";\n\nimport {\n  useCallback,\n  type Ref,\n  type RefCallback,\n  type MutableRefObject,\n} from \"react\";\n\n/**\n * Type for any valid ref - can be a RefObject, RefCallback, or null\n */\ntype PossibleRef<T> = Ref<T> | undefined;\n\n/**\n * Assigns a value to a ref, handling both callback refs and RefObjects\n *\n * @param ref - The ref to assign to\n * @param value - The value to assign\n */\nfunction assignRef<T>(ref: PossibleRef<T>, value: T | null): void {\n  if (ref === null || ref === undefined) {\n    return;\n  }\n\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    // It's a RefObject\n    (ref as MutableRefObject<T | null>).current = value;\n  }\n}\n\n/**\n * Merges multiple refs into a single callback ref\n *\n * This is useful when you need to pass multiple refs to a single element,\n * such as when combining a forwarded ref with an internal ref.\n *\n * @param refs - The refs to merge\n * @returns A callback ref that assigns to all provided refs\n *\n * @example\n * ```tsx\n * const MyComponent = forwardRef<HTMLDivElement, Props>((props, forwardedRef) => {\n *   const internalRef = useRef<HTMLDivElement>(null);\n *   const mergedRef = useMergedRefs(forwardedRef, internalRef);\n *\n *   return <div ref={mergedRef} />;\n * });\n * ```\n *\n * @example\n * ```tsx\n * // With multiple refs\n * const Component = forwardRef((props, ref) => {\n *   const localRef = useRef(null);\n *   const animationRef = useRef(null);\n *   const mergedRef = useMergedRefs(ref, localRef, animationRef);\n *\n *   return <div ref={mergedRef} />;\n * });\n * ```\n */\nexport function useMergedRefs<T>(...refs: PossibleRef<T>[]): RefCallback<T> {\n  return useCallback(\n    (node: T | null) => {\n      refs.forEach((ref) => {\n        assignRef(ref, node);\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs,\n  );\n}\n\n/**\n * Merges refs without hooks - for use outside of components\n *\n * @param refs - The refs to merge\n * @returns A callback ref that assigns to all provided refs\n *\n * @example\n * ```tsx\n * const callbackRef = mergeRefs(ref1, ref2, ref3);\n * ```\n */\nexport function mergeRefs<T>(...refs: PossibleRef<T>[]): RefCallback<T> {\n  return (node: T | null) => {\n    refs.forEach((ref) => {\n      assignRef(ref, node);\n    });\n  };\n}\n\nexport default useMergedRefs;\n",
      "type": "registry:hook"
    }
  ]
}
