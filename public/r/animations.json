{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "animations",
  "type": "registry:lib",
  "title": "Animations",
  "description": "Motion system with spring presets, transitions, and variant factories.",
  "dependencies": [
    "motion",
    "tw-animate-css"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "lib/animations.ts",
      "content": "/**\r\n * Animation System - Motion constants, utilities, and presets\r\n *\r\n * This module provides all animation-related utilities for the component library.\r\n * It integrates with the design tokens and respects user's reduced motion preferences.\r\n *\r\n * @packageDocumentation\r\n */\r\n\r\nimport type { Transition, Variants } from \"motion/react\";\r\nimport { durations } from \"./tokens\";\r\n\r\n// =============================================================================\r\n// SPRING PRESETS\r\n// Physics-based spring configurations for natural animations\r\n// =============================================================================\r\n\r\n/**\r\n * Spring presets for consistent animations across the library.\r\n * Each preset is tuned for specific interaction types.\r\n *\r\n * @example\r\n * ```tsx\r\n * import { springPresets } from '@/lib/animations';\r\n *\r\n * <motion.button transition={springPresets.snappy} />\r\n * ```\r\n */\r\nexport const springPresets = {\r\n  /**\r\n   * Snappy - Quick, responsive (buttons, toggles, small interactions)\r\n   * High stiffness + high damping = fast and controlled\r\n   */\r\n  snappy: {\r\n    type: \"spring\" as const,\r\n    stiffness: 400,\r\n    damping: 30,\r\n    mass: 1,\r\n  },\r\n\r\n  /**\r\n   * Bouncy - Playful, attention-grabbing (notifications, toasts)\r\n   * Medium stiffness + lower damping = visible bounce\r\n   */\r\n  bouncy: {\r\n    type: \"spring\" as const,\r\n    stiffness: 300,\r\n    damping: 20,\r\n    mass: 1,\r\n  },\r\n\r\n  /**\r\n   * Smooth - Slow, graceful transitions (modals, sheets)\r\n   * Lower stiffness + higher damping = elegant movement\r\n   */\r\n  smooth: {\r\n    type: \"spring\" as const,\r\n    stiffness: 200,\r\n    damping: 25,\r\n    mass: 1,\r\n  },\r\n\r\n  /**\r\n   * Gentle - Subtle, background animations (fades, micro-interactions)\r\n   * Very low stiffness + high damping = barely perceptible\r\n   */\r\n  gentle: {\r\n    type: \"spring\" as const,\r\n    stiffness: 150,\r\n    damping: 30,\r\n    mass: 1,\r\n  },\r\n\r\n  /**\r\n   * Interactive - Drag and gesture responses\r\n   * Balanced for real-time input tracking\r\n   */\r\n  interactive: {\r\n    type: \"spring\" as const,\r\n    stiffness: 500,\r\n    damping: 35,\r\n    mass: 0.8,\r\n  },\r\n\r\n  /**\r\n   * Morphing - For layoutId shared element transitions\r\n   * Zero bounce for clean morphing\r\n   */\r\n  morphing: {\r\n    type: \"spring\" as const,\r\n    bounce: 0,\r\n    duration: 0.5,\r\n  },\r\n} as const;\r\n\r\n// =============================================================================\r\n// TRANSITION PRESETS\r\n// Pre-configured transitions for common use cases\r\n// =============================================================================\r\n\r\n/**\r\n * Transition presets for various component types.\r\n *\r\n * @example\r\n * ```tsx\r\n * <motion.div transition={transitions.modal} />\r\n * ```\r\n */\r\nexport const transitions = {\r\n  /** Standard transition using snappy spring */\r\n  default: springPresets.snappy as Transition,\r\n\r\n  /** For modal/dialog opening animations */\r\n  modal: springPresets.smooth as Transition,\r\n\r\n  /** For dropdown/popover appearance */\r\n  popover: {\r\n    ...springPresets.snappy,\r\n    duration: 0.2,\r\n  } as Transition,\r\n\r\n  /** For morphing popover with layoutId */\r\n  morphingPopover: {\r\n    type: \"spring\" as const,\r\n    bounce: 0.05,\r\n    duration: 0.3,\r\n  } as Transition,\r\n\r\n  /** For sheet slide-in animations */\r\n  sheet: {\r\n    ...springPresets.smooth,\r\n    damping: 28,\r\n  } as Transition,\r\n\r\n  /** For button press feedback */\r\n  button: {\r\n    ...springPresets.interactive,\r\n    duration: 0.1,\r\n  } as Transition,\r\n\r\n  /** For icon state changes */\r\n  icon: {\r\n    ...springPresets.bouncy,\r\n    duration: 0.3,\r\n  } as Transition,\r\n\r\n  /** For staggered list items */\r\n  stagger: {\r\n    staggerChildren: 0.03,\r\n    delayChildren: 0.05,\r\n  } as Transition,\r\n\r\n  /** Fast fade for overlays/backdrops */\r\n  fade: {\r\n    type: \"tween\" as const,\r\n    duration: 0.15,\r\n    ease: \"easeOut\",\r\n  } as Transition,\r\n\r\n  /** Reduced motion fallback - instant */\r\n  reduced: {\r\n    type: \"tween\" as const,\r\n    duration: 0,\r\n  } as Transition,\r\n\r\n  /** Content fade in after morph */\r\n  contentFade: {\r\n    duration: 0.25,\r\n    delay: 0.15,\r\n    ease: [0.32, 0.72, 0, 1] as const,\r\n  } as Transition,\r\n\r\n  /** Backdrop fade */\r\n  backdrop: {\r\n    duration: 0.25,\r\n    ease: \"easeOut\" as const,\r\n  } as Transition,\r\n} as const;\r\n\r\n// =============================================================================\r\n// EASING FUNCTIONS\r\n// Cubic-bezier curves for tween animations\r\n// =============================================================================\r\n\r\n/**\r\n * Easing curves for tween animations.\r\n * Use these when spring physics isn't appropriate.\r\n */\r\nexport const easings = {\r\n  /** Standard ease curve */\r\n  standard: [0.25, 0.1, 0.25, 1] as const,\r\n  /** Acceleration curve */\r\n  easeIn: [0.42, 0, 1, 1] as const,\r\n  /** Deceleration curve */\r\n  easeOut: [0, 0, 0.58, 1] as const,\r\n  /** Emphasized movement */\r\n  emphasis: [0.33, 1, 0.68, 1] as const,\r\n  /** Linear - no easing */\r\n  linear: [0, 0, 1, 1] as const,\r\n  /** Overshoot - slight bounce at end */\r\n  overshoot: [0.34, 1.56, 0.64, 1] as const,\r\n} as const;\r\n\r\n// =============================================================================\r\n// DURATION CONSTANTS\r\n// Consistent timing values (mirrors tokens.durations)\r\n// =============================================================================\r\n\r\nexport { durations };\r\n\r\n// =============================================================================\r\n// VARIANT FACTORIES\r\n// Create animation variants for common patterns\r\n// =============================================================================\r\n\r\n/**\r\n * Creates scale variants for press/tap interactions\r\n *\r\n * @param scale - The scale to apply when pressed (default: 0.97)\r\n * @returns Variants object for motion components\r\n *\r\n * @example\r\n * ```tsx\r\n * const pressVariants = createPressVariants(0.95);\r\n * <motion.button variants={pressVariants} whileTap=\"pressed\" />\r\n * ```\r\n */\r\nexport function createPressVariants(scale = 0.97): Variants {\r\n  return {\r\n    idle: { scale: 1 },\r\n    pressed: { scale },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates hover scale variants\r\n *\r\n * @param scale - The scale to apply when hovered (default: 1.02)\r\n * @returns Variants object for motion components\r\n */\r\nexport function createHoverVariants(scale = 1.02): Variants {\r\n  return {\r\n    idle: { scale: 1 },\r\n    hovered: { scale },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates fade + scale variants for modal-like components\r\n *\r\n * @param options - Configuration for initial and exit scales\r\n * @returns Variants for enter/exit animations\r\n *\r\n * @example\r\n * ```tsx\r\n * const modalVariants = createModalVariants({ initialScale: 0.9 });\r\n * <motion.div variants={modalVariants} initial=\"initial\" animate=\"animate\" exit=\"exit\" />\r\n * ```\r\n */\r\nexport function createModalVariants(options?: {\r\n  initialScale?: number;\r\n  exitScale?: number;\r\n}): Variants {\r\n  const { initialScale = 0.95, exitScale = 0.95 } = options ?? {};\r\n\r\n  return {\r\n    initial: {\r\n      opacity: 0,\r\n      scale: initialScale,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: exitScale,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates slide variants for sheets/drawers\r\n *\r\n * @param side - The side the sheet slides from\r\n * @returns Variants for enter/exit animations\r\n */\r\nexport function createSlideVariants(\r\n  side: \"top\" | \"right\" | \"bottom\" | \"left\",\r\n): Variants {\r\n  const transforms: Record<\r\n    string,\r\n    { x?: string | number; y?: string | number }\r\n  > = {\r\n    top: { y: \"-100%\" },\r\n    right: { x: \"100%\" },\r\n    bottom: { y: \"100%\" },\r\n    left: { x: \"-100%\" },\r\n  };\r\n\r\n  return {\r\n    initial: { ...transforms[side], opacity: 0 },\r\n    animate: { x: 0, y: 0, opacity: 1 },\r\n    exit: { ...transforms[side], opacity: 0 },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates staggered children variants for lists\r\n *\r\n * @param options - Configuration for stagger timing\r\n * @returns Variants for parent container\r\n */\r\nexport function createStaggerVariants(options?: {\r\n  staggerChildren?: number;\r\n  delayChildren?: number;\r\n}): Variants {\r\n  const { staggerChildren = 0.03, delayChildren = 0.05 } = options ?? {};\r\n\r\n  return {\r\n    initial: { opacity: 0 },\r\n    animate: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren,\r\n        delayChildren,\r\n      },\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transition: {\r\n        staggerChildren: staggerChildren / 2,\r\n        staggerDirection: -1,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates item variants for staggered lists\r\n *\r\n * @param options - Configuration for item animation\r\n * @returns Variants for list items\r\n */\r\nexport function createStaggerItemVariants(options?: {\r\n  y?: number;\r\n  scale?: number;\r\n}): Variants {\r\n  const { y = 10, scale = 0.95 } = options ?? {};\r\n\r\n  return {\r\n    initial: { opacity: 0, y, scale },\r\n    animate: { opacity: 1, y: 0, scale: 1 },\r\n    exit: { opacity: 0, y: y / 2, scale },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates morphing popover variants with blur\r\n *\r\n * @param options - Configuration for morph animation\r\n * @returns Variants for morphing components\r\n */\r\nexport function createMorphingPopoverVariants(options?: {\r\n  initialScale?: number;\r\n  exitScale?: number;\r\n  initialBlur?: number;\r\n  exitBlur?: number;\r\n}): Variants {\r\n  const {\r\n    initialScale = 0.9,\r\n    exitScale = 0.95,\r\n    initialBlur = 10,\r\n    exitBlur = 10,\r\n  } = options ?? {};\r\n\r\n  return {\r\n    initial: {\r\n      opacity: 0,\r\n      scale: initialScale,\r\n      filter: `blur(${initialBlur}px)`,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      filter: \"blur(0px)\",\r\n      transition: {\r\n        type: \"spring\",\r\n        bounce: 0,\r\n        duration: 0.3,\r\n        staggerChildren: 0.05,\r\n      },\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: exitScale,\r\n      filter: `blur(${exitBlur}px)`,\r\n      transition: {\r\n        duration: 0.2,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates backdrop/overlay variants\r\n *\r\n * @returns Variants for backdrop elements\r\n */\r\nexport function createBackdropVariants(): Variants {\r\n  return {\r\n    initial: { opacity: 0 },\r\n    animate: { opacity: 1 },\r\n    exit: { opacity: 0 },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates origin-aware scale variants for popovers/dropdowns\r\n *\r\n * @param options - Configuration for popover animation\r\n * @returns Variants for popover components\r\n */\r\nexport function createPopoverVariants(options?: {\r\n  initialScale?: number;\r\n  originX?: number;\r\n  originY?: number;\r\n}): Variants {\r\n  const { initialScale = 0.95, originX = 0.5, originY = 0 } = options ?? {};\r\n\r\n  return {\r\n    initial: {\r\n      opacity: 0,\r\n      scale: initialScale,\r\n      originX,\r\n      originY,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: initialScale,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates dropdown menu variants with blur and stagger\r\n *\r\n * @returns Variants for dropdown menus\r\n */\r\nexport function createDropdownVariants(): Variants {\r\n  return {\r\n    initial: {\r\n      opacity: 0,\r\n      scale: 0.92,\r\n      y: -12,\r\n      filter: \"blur(12px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      y: 0,\r\n      filter: \"blur(0px)\",\r\n      transition: {\r\n        ...springPresets.smooth,\r\n        stiffness: 260,\r\n        damping: 32,\r\n        mass: 1.02,\r\n        delayChildren: 0.08,\r\n        staggerChildren: 0.035,\r\n      },\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: 0.96,\r\n      y: -6,\r\n      filter: \"blur(6px)\",\r\n      transition: {\r\n        type: \"tween\",\r\n        duration: 0.18,\r\n        ease: easings.easeIn,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates dropdown item variants with blur\r\n *\r\n * @returns Variants for dropdown menu items\r\n */\r\nexport function createDropdownItemVariants(): Variants {\r\n  return {\r\n    initial: {\r\n      opacity: 0,\r\n      y: -6,\r\n      scale: 0.98,\r\n      filter: \"blur(6px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      y: 0,\r\n      scale: 1,\r\n      filter: \"blur(0px)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      y: -4,\r\n      scale: 0.98,\r\n      filter: \"blur(4px)\",\r\n      transition: {\r\n        duration: 0.14,\r\n        ease: easings.easeIn,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Creates check/indicator variants with bounce\r\n *\r\n * @returns Variants for checkbox/radio indicators\r\n */\r\nexport function createIndicatorVariants(): Variants {\r\n  return {\r\n    initial: {\r\n      scale: 0.6,\r\n      opacity: 0,\r\n      rotate: -8,\r\n    },\r\n    animate: {\r\n      scale: 1,\r\n      opacity: 1,\r\n      rotate: 0,\r\n      transition: {\r\n        ...springPresets.bouncy,\r\n        stiffness: 460,\r\n        damping: 28,\r\n        mass: 0.9,\r\n      },\r\n    },\r\n    exit: {\r\n      scale: 0.6,\r\n      opacity: 0,\r\n      rotate: 8,\r\n      transition: {\r\n        duration: 0.16,\r\n        ease: easings.easeIn,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// GESTURE PRESETS\r\n// Common gesture configurations\r\n// =============================================================================\r\n\r\n/**\r\n * Gesture presets for interactive elements.\r\n *\r\n * @example\r\n * ```tsx\r\n * <motion.button {...gestures.button} />\r\n * ```\r\n */\r\nexport const gestures = {\r\n  /** Standard button tap feedback */\r\n  button: {\r\n    whileTap: { scale: 0.97 },\r\n    whileHover: { scale: 1.02 },\r\n  },\r\n\r\n  /** Subtle press for secondary actions */\r\n  subtle: {\r\n    whileTap: { scale: 0.99 },\r\n  },\r\n\r\n  /** Icon button feedback */\r\n  iconButton: {\r\n    whileTap: { scale: 0.9 },\r\n    whileHover: { scale: 1.1 },\r\n  },\r\n\r\n  /** Card hover effect */\r\n  card: {\r\n    whileHover: { scale: 1.02, y: -4 },\r\n    transition: springPresets.smooth,\r\n  },\r\n\r\n  /** List item hover */\r\n  listItem: {\r\n    whileHover: { x: 4 },\r\n    transition: springPresets.snappy,\r\n  },\r\n} as const;\r\n\r\n// =============================================================================\r\n// DRAG CONFIGURATION\r\n// For swipeable/draggable components\r\n// =============================================================================\r\n\r\n/**\r\n * Drag configurations for swipeable components.\r\n */\r\nexport const dragConfig = {\r\n  /** Sheet swipe-to-dismiss threshold */\r\n  sheet: {\r\n    dismissThreshold: 100,\r\n    velocityThreshold: 500,\r\n  },\r\n\r\n  /** Drag constraints for bounded elements */\r\n  bounded: {\r\n    elastic: 0.1,\r\n    power: 0.8,\r\n  },\r\n} as const;\r\n\r\n// =============================================================================\r\n// UTILITY FUNCTIONS\r\n// =============================================================================\r\n\r\n/**\r\n * Combines multiple variant objects into one\r\n *\r\n * @param variants - Variants to merge\r\n * @returns Combined variants object\r\n */\r\nexport function mergeVariants(...variants: Variants[]): Variants {\r\n  return variants.reduce((acc, variant) => ({ ...acc, ...variant }), {});\r\n}\r\n\r\n/**\r\n * Returns appropriate transition based on reduced motion preference\r\n *\r\n * @param transition - The desired transition\r\n * @param prefersReducedMotion - Whether user prefers reduced motion\r\n * @returns The appropriate transition\r\n */\r\nexport function getTransition(\r\n  transition: Transition,\r\n  prefersReducedMotion: boolean,\r\n): Transition {\r\n  if (prefersReducedMotion) {\r\n    return transitions.reduced;\r\n  }\r\n  return transition;\r\n}\r\n\r\n/**\r\n * Generates a layoutId for shared element transitions\r\n *\r\n * @param prefix - Component type prefix\r\n * @param id - Unique identifier\r\n * @returns A stable layoutId string\r\n */\r\nexport function createLayoutId(prefix: string, id: string | number): string {\r\n  return `${prefix}-${id}`;\r\n}\r\n\r\n/**\r\n * Gets variants that respect reduced motion preference\r\n *\r\n * @param variants - Original variants\r\n * @param prefersReducedMotion - Whether user prefers reduced motion\r\n * @returns Modified variants with instant transitions if needed\r\n */\r\nexport function getReducedMotionVariants(\r\n  variants: Variants,\r\n  prefersReducedMotion: boolean,\r\n): Variants {\r\n  if (!prefersReducedMotion) {\r\n    return variants;\r\n  }\r\n\r\n  // Return variants with instant state changes, no animation properties\r\n  const reducedVariants: Variants = {};\r\n\r\n  for (const [key, value] of Object.entries(variants)) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      const { transition, ...visualProps } = value as Record<string, unknown>;\r\n      // Cast to Variant since we're just removing the transition property\r\n      reducedVariants[key] = visualProps as Variants[string];\r\n    } else {\r\n      reducedVariants[key] = value;\r\n    }\r\n  }\r\n\r\n  return reducedVariants;\r\n}\r\n",
      "type": "registry:lib"
    }
  ]
}