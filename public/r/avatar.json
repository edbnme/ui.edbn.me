{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "avatar",
  "type": "registry:ui",
  "title": "Avatar",
  "description": "Composable avatar component with sizes, status indicators, and group stacking support.",
  "dependencies": ["@radix-ui/react-avatar", "class-variance-authority"],
  "registryDependencies": ["utils"],
  "files": [
    {
      "path": "components/ui/avatar.tsx",
      "content": "/**\n * Avatar Component\n *\n * A composable avatar component with multiple sizes, status indicators,\n * and group stacking support. Handles image loading states gracefully.\n *\n * Built on Radix UI Avatar primitive.\n *\n * @packageDocumentation\n */\n\n\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\nimport { cn } from \"@/lib/utils\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\n// =============================================================================\n// AVATAR VARIANTS\n// =============================================================================\n\nconst avatarVariants = cva(\n  \"relative flex shrink-0 overflow-hidden rounded-full\",\n  {\n    variants: {\n      size: {\n        xs: \"size-6 text-[10px]\",\n        sm: \"size-8 text-xs\",\n        md: \"size-10 text-sm\",\n        lg: \"size-12 text-base\",\n        xl: \"size-14 text-lg\",\n        \"2xl\": \"size-16 text-xl\",\n      },\n    },\n    defaultVariants: {\n      size: \"md\",\n    },\n  },\n);\n\nconst statusVariants = cva(\n  \"absolute bottom-0 right-0 rounded-full border-background\",\n  {\n    variants: {\n      status: {\n        online: \"bg-green-500\",\n        offline: \"bg-gray-400\",\n        away: \"bg-yellow-500\",\n        busy: \"bg-red-500\",\n      },\n      size: {\n        xs: \"size-1.5 border\",\n        sm: \"size-2 border\",\n        md: \"size-2.5 border-2\",\n        lg: \"size-3 border-2\",\n        xl: \"size-3.5 border-2\",\n        \"2xl\": \"size-4 border-2\",\n      },\n    },\n    defaultVariants: {\n      size: \"md\",\n    },\n  },\n);\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\nexport type AvatarSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\nexport type AvatarStatus = \"online\" | \"offline\" | \"away\" | \"busy\";\n\nexport interface AvatarProps\n  extends\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>,\n    VariantProps<typeof avatarVariants> {\n  /** Status indicator */\n  status?: AvatarStatus;\n}\n\nexport type AvatarImageProps = React.ComponentPropsWithoutRef<\n  typeof AvatarPrimitive.Image\n>;\n\nexport type AvatarFallbackProps = React.ComponentPropsWithoutRef<\n  typeof AvatarPrimitive.Fallback\n>;\n\n// =============================================================================\n// AVATAR ROOT\n// =============================================================================\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  AvatarProps\n>(({ className, size, status, children, ...props }, ref) => (\n  <div className=\"relative inline-flex shrink-0\" data-slot=\"avatar\">\n    <AvatarPrimitive.Root\n      ref={ref}\n      className={cn(avatarVariants({ size }), className)}\n      {...props}\n    >\n      {children}\n    </AvatarPrimitive.Root>\n    {status && (\n      <span\n        className={cn(statusVariants({ status, size }))}\n        aria-label={`Status: ${status}`}\n      />\n    )}\n  </div>\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\n// =============================================================================\n// AVATAR IMAGE\n// =============================================================================\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  AvatarImageProps\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full object-cover\", className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\n// =============================================================================\n// AVATAR FALLBACK\n// =============================================================================\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  AvatarFallbackProps\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted font-medium text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\n// =============================================================================\n// AVATAR GROUP\n// =============================================================================\n\nexport interface AvatarGroupProps {\n  children: React.ReactNode;\n  /** Maximum visible avatars before showing +N */\n  max?: number;\n  /** Size for the overflow indicator */\n  size?: AvatarSize;\n  /** Additional className */\n  className?: string;\n}\n\nfunction AvatarGroup({\n  children,\n  max = 4,\n  size = \"md\",\n  className,\n}: AvatarGroupProps) {\n  const avatars = React.Children.toArray(children);\n  const visible = avatars.slice(0, max);\n  const remaining = avatars.length - max;\n\n  return (\n    <div\n      className={cn(\n        \"flex -space-x-2 *:data-[slot=avatar]:ring-2 *:data-[slot=avatar]:ring-background\",\n        className,\n      )}\n    >\n      {visible.map((child, i) => (\n        <div key={i} style={{ zIndex: visible.length - i }}>\n          {child}\n        </div>\n      ))}\n      {remaining > 0 && (\n        <div\n          className={cn(\n            \"relative flex items-center justify-center rounded-full bg-muted font-medium text-muted-foreground ring-2 ring-background\",\n            avatarVariants({ size }),\n          )}\n          style={{ zIndex: 0 }}\n        >\n          +{remaining}\n        </div>\n      )}\n    </div>\n  );\n}\n\nAvatarGroup.displayName = \"AvatarGroup\";\n\nexport { Avatar, AvatarImage, AvatarFallback, AvatarGroup };\n",
      "type": "registry:ui"
    }
  ]
}
