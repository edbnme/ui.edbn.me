{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "avatar",
  "type": "registry:ui",
  "title": "Avatar",
  "description": "Composable avatar component with sizes, status indicators, and group stacking support.",
  "dependencies": [
    "@radix-ui/react-avatar",
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "components/ui/avatar.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\n// =============================================================================\r\n// AVATAR VARIANTS\r\n// =============================================================================\r\n\r\nconst avatarVariants = cva(\r\n  \"relative flex shrink-0 overflow-hidden rounded-full\",\r\n  {\r\n    variants: {\r\n      size: {\r\n        xs: \"size-6 text-[10px]\",\r\n        sm: \"size-8 text-xs\",\r\n        md: \"size-10 text-sm\",\r\n        lg: \"size-12 text-base\",\r\n        xl: \"size-14 text-lg\",\r\n        \"2xl\": \"size-16 text-xl\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      size: \"md\",\r\n    },\r\n  }\r\n);\r\n\r\nconst statusVariants = cva(\r\n  \"absolute bottom-0 right-0 rounded-full border-background\",\r\n  {\r\n    variants: {\r\n      status: {\r\n        online: \"bg-green-500\",\r\n        offline: \"bg-gray-400\",\r\n        away: \"bg-yellow-500\",\r\n        busy: \"bg-red-500\",\r\n      },\r\n      size: {\r\n        xs: \"size-1.5 border\",\r\n        sm: \"size-2 border\",\r\n        md: \"size-2.5 border-2\",\r\n        lg: \"size-3 border-2\",\r\n        xl: \"size-3.5 border-2\",\r\n        \"2xl\": \"size-4 border-2\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      size: \"md\",\r\n    },\r\n  }\r\n);\r\n\r\n// =============================================================================\r\n// TYPES\r\n// =============================================================================\r\n\r\nexport type AvatarSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\r\nexport type AvatarStatus = \"online\" | \"offline\" | \"away\" | \"busy\";\r\n\r\nexport interface AvatarProps\r\n  extends React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>,\r\n    VariantProps<typeof avatarVariants> {\r\n  /** Status indicator */\r\n  status?: AvatarStatus;\r\n}\r\n\r\nexport type AvatarImageProps = React.ComponentPropsWithoutRef<\r\n  typeof AvatarPrimitive.Image\r\n>;\r\n\r\nexport type AvatarFallbackProps = React.ComponentPropsWithoutRef<\r\n  typeof AvatarPrimitive.Fallback\r\n>;\r\n\r\n// =============================================================================\r\n// AVATAR ROOT\r\n// =============================================================================\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  AvatarProps\r\n>(({ className, size, status, children, ...props }, ref) => (\r\n  <div className=\"relative inline-flex shrink-0\" data-slot=\"avatar\">\r\n    <AvatarPrimitive.Root\r\n      ref={ref}\r\n      className={cn(avatarVariants({ size }), className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </AvatarPrimitive.Root>\r\n    {status && (\r\n      <span\r\n        className={cn(statusVariants({ status, size }))}\r\n        aria-label={`Status: ${status}`}\r\n      />\r\n    )}\r\n  </div>\r\n));\r\nAvatar.displayName = AvatarPrimitive.Root.displayName;\r\n\r\n// =============================================================================\r\n// AVATAR IMAGE\r\n// =============================================================================\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  AvatarImageProps\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full object-cover\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\r\n\r\n// =============================================================================\r\n// AVATAR FALLBACK\r\n// =============================================================================\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  AvatarFallbackProps\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted font-medium text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\r\n\r\n// =============================================================================\r\n// AVATAR GROUP\r\n// =============================================================================\r\n\r\nexport interface AvatarGroupProps {\r\n  children: React.ReactNode;\r\n  /** Maximum visible avatars before showing +N */\r\n  max?: number;\r\n  /** Size for the overflow indicator */\r\n  size?: AvatarSize;\r\n  /** Additional className */\r\n  className?: string;\r\n}\r\n\r\nfunction AvatarGroup({\r\n  children,\r\n  max = 4,\r\n  size = \"md\",\r\n  className,\r\n}: AvatarGroupProps) {\r\n  const avatars = React.Children.toArray(children);\r\n  const visible = avatars.slice(0, max);\r\n  const remaining = avatars.length - max;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex -space-x-2 *:data-[slot=avatar]:ring-2 *:data-[slot=avatar]:ring-background\",\r\n        className\r\n      )}\r\n    >\r\n      {visible.map((child, i) => (\r\n        <div key={i} style={{ zIndex: visible.length - i }}>\r\n          {child}\r\n        </div>\r\n      ))}\r\n      {remaining > 0 && (\r\n        <div\r\n          className={cn(\r\n            \"relative flex items-center justify-center rounded-full bg-muted font-medium text-muted-foreground ring-2 ring-background\",\r\n            avatarVariants({ size })\r\n          )}\r\n          style={{ zIndex: 0 }}\r\n        >\r\n          +{remaining}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nAvatarGroup.displayName = \"AvatarGroup\";\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback, AvatarGroup };\r\n",
      "type": "registry:ui"
    }
  ]
}