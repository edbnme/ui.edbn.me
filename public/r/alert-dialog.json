{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "alert-dialog",
  "type": "registry:ui",
  "title": "Alert Dialog",
  "description": "Animated modal dialog with morphing animations, focus trap, and controlled/uncontrolled state.",
  "dependencies": [
    "motion",
    "@phosphor-icons/react",
    "tw-animate-css"
  ],
  "registryDependencies": [
    "utils",
    "button"
  ],
  "files": [
    {
      "path": "components/ui/alert-dialog.tsx",
      "content": "/**\n * Alert Dialog Component\n *\n * A modal dialog for important interactions that require acknowledgement.\n * Features morphing animations, focus management, and full accessibility.\n *\n * Based on WAI-ARIA Alert Dialog pattern.\n * @see https://www.w3.org/WAI/ARIA/apg/patterns/alertdialog/\n *\n * @packageDocumentation\n */\n\n\"use client\";\n\n// =============================================================================\n// IMPORTS\n// =============================================================================\n\n// 1. React imports\nimport * as React from \"react\";\nimport {\n  createContext,\n  useContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useSyncExternalStore,\n  type ReactNode,\n} from \"react\";\n\n// 2. External library imports\nimport {\n  motion,\n  AnimatePresence,\n  MotionConfig,\n  type Transition,\n} from \"motion/react\";\nimport { createPortal } from \"react-dom\";\nimport { XIcon } from \"@phosphor-icons/react\";\n\n// 3. Internal imports\nimport { cn } from \"@/lib/utils\";\nimport { springPresets } from \"@/lib/animations\";\nimport { useShouldDisableAnimation } from \"@/components/motion-provider\";\nimport { useStableId } from \"@/hooks/use-stable-id\";\nimport { useControllableBoolean } from \"@/hooks/use-controllable-state\";\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Context value for AlertDialog state management\n */\ninterface AlertDialogContextValue {\n  /** Whether the dialog is open */\n  isOpen: boolean;\n  /** Set the open state */\n  setIsOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  /** Unique ID for ARIA attributes */\n  uniqueId: string;\n  /** Ref to the trigger element for focus return */\n  triggerRef: React.RefObject<HTMLElement | null>;\n  /** Ref to the content element */\n  contentRef: React.RefObject<HTMLDivElement | null>;\n  /** Whether animations are disabled */\n  disableAnimation: boolean;\n  /** Callback when open state changes */\n  onOpenChange?: (open: boolean) => void;\n}\n\n// =============================================================================\n// CONTEXT\n// =============================================================================\n\nconst AlertDialogContext = createContext<AlertDialogContextValue | null>(null);\n\n/**\n * Hook to access AlertDialog context\n * @throws Error if used outside AlertDialog\n */\nfunction useAlertDialog(): AlertDialogContextValue {\n  const context = useContext(AlertDialogContext);\n  if (!context) {\n    throw new Error(\n      \"useAlertDialog must be used within <AlertDialog>. \" +\n        \"Wrap your component tree with <AlertDialog>\"\n    );\n  }\n  return context;\n}\n\n// =============================================================================\n// SPRING PRESETS FOR DIALOG\n// =============================================================================\n\nconst dialogSprings = {\n  /** Morphing animation between trigger and content */\n  morph: {\n    type: \"spring\" as const,\n    bounce: 0,\n    duration: 0.5,\n  },\n  /** Content fade in after morph */\n  content: {\n    duration: 0.25,\n    delay: 0.15,\n    ease: [0.32, 0.72, 0, 1] as const,\n  },\n  /** Backdrop fade */\n  backdrop: {\n    duration: 0.25,\n    ease: \"easeOut\" as const,\n  },\n  /** Delay for content fade effects */\n  contentFadeDelay: 0.15,\n} as const;\n\n// =============================================================================\n// UTILITY HOOKS\n// =============================================================================\n\n/**\n * SSR-safe check for client-side rendering\n * Uses useSyncExternalStore for React 19 compliance\n */\nconst emptySubscribe = () => () => {};\nconst getClientSnapshot = () => true;\nconst getServerSnapshot = () => false;\n\nfunction useIsMounted(): boolean {\n  return useSyncExternalStore(\n    emptySubscribe,\n    getClientSnapshot,\n    getServerSnapshot\n  );\n}\n\n// =============================================================================\n// ALERT DIALOG ROOT\n// =============================================================================\n\n/**\n * AlertDialogRoot props\n */\nexport interface AlertDialogRootProps {\n  /** Child components */\n  children: ReactNode;\n  /** Custom transition for animations */\n  transition?: Transition;\n  /** Controlled open state */\n  open?: boolean;\n  /** Default open state (uncontrolled) */\n  defaultOpen?: boolean;\n  /** Callback when open state changes */\n  onOpenChange?: (open: boolean) => void;\n  /** Disable all animations */\n  disableAnimation?: boolean;\n}\n\n/**\n * AlertDialog - Container component that manages dialog state\n *\n * Provides context for all child components and handles\n * controlled/uncontrolled state management.\n *\n * @example\n * ```tsx\n * <AlertDialog open={isOpen} onOpenChange={setIsOpen}>\n *   <AlertDialogTrigger>Open</AlertDialogTrigger>\n *   <AlertDialogContent>...</AlertDialogContent>\n * </AlertDialog>\n * ```\n */\nfunction AlertDialogRoot({\n  children,\n  transition = springPresets.smooth,\n  open,\n  defaultOpen = false,\n  onOpenChange,\n  disableAnimation: disableAnimationProp,\n}: AlertDialogRootProps) {\n  // Controlled/uncontrolled state\n  const [isOpen, setIsOpen] = useControllableBoolean({\n    value: open,\n    defaultValue: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  // Generate stable IDs\n  const uniqueId = useStableId(\"alert-dialog\");\n\n  // Refs for focus management\n  const triggerRef = useRef<HTMLElement>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  // Animation preference\n  const shouldDisableAnimation =\n    useShouldDisableAnimation(disableAnimationProp);\n\n  // Memoized context value\n  const contextValue = useMemo<AlertDialogContextValue>(\n    () => ({\n      isOpen,\n      setIsOpen,\n      uniqueId,\n      triggerRef,\n      contentRef,\n      disableAnimation: shouldDisableAnimation,\n      onOpenChange,\n    }),\n    [isOpen, setIsOpen, uniqueId, shouldDisableAnimation, onOpenChange]\n  );\n\n  return (\n    <AlertDialogContext.Provider value={contextValue}>\n      <MotionConfig transition={transition}>{children}</MotionConfig>\n    </AlertDialogContext.Provider>\n  );\n}\n\nAlertDialogRoot.displayName = \"AlertDialogRoot\";\n\n// =============================================================================\n// ALERT DIALOG TRIGGER\n// =============================================================================\n\n/**\n * AlertDialogTrigger props\n */\nexport interface AlertDialogTriggerProps {\n  /** Child content */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Merge props with child element */\n  asChild?: boolean;\n}\n\n/**\n * AlertDialogTrigger - Button that opens the dialog\n *\n * Uses layoutId for smooth morphing animation into the dialog.\n * The trigger hides when dialog opens to prevent \"button behind dialog\" effect.\n */\nfunction AlertDialogTrigger({\n  children,\n  className,\n  style,\n  asChild = false,\n}: AlertDialogTriggerProps) {\n  const { setIsOpen, isOpen, uniqueId, triggerRef, disableAnimation } =\n    useAlertDialog();\n\n  const handleClick = useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        setIsOpen(true);\n      }\n    },\n    [setIsOpen]\n  );\n\n  // Common ARIA and data attributes\n  const commonProps = {\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    \"aria-haspopup\": \"dialog\" as const,\n    \"aria-expanded\": isOpen,\n    \"aria-controls\": `${uniqueId}-content`,\n    \"data-slot\": \"alert-dialog-trigger\",\n    \"data-state\": isOpen ? \"open\" : \"closed\",\n  };\n\n  // asChild pattern - merge props with child\n  if (asChild && React.isValidElement(children)) {\n    const childElement = children as React.ReactElement<\n      Record<string, unknown>\n    >;\n\n    if (!disableAnimation) {\n      return (\n        <div\n          ref={triggerRef as React.RefObject<HTMLDivElement>}\n          className={cn(\"relative inline-flex\", className)}\n          style={{\n            ...style,\n            pointerEvents: isOpen ? \"none\" : \"auto\",\n          }}\n        >\n          {/* Morphing background layer - transparent, explicitly no border */}\n          <motion.div\n            layoutId={`dialog-${uniqueId}`}\n            className=\"absolute inset-0 -z-10 rounded-lg border-0\"\n            initial={false}\n            animate={{\n              opacity: isOpen ? 0 : 1,\n              borderWidth: 0,\n            }}\n            transition={dialogSprings.morph}\n            style={{\n              borderRadius: \"inherit\",\n              backgroundColor: \"transparent\",\n              borderWidth: 0,\n              borderStyle: \"none\",\n              boxShadow: \"none\",\n              outline: \"none\",\n            }}\n          />\n          {/* Child with fade */}\n          <motion.div\n            className=\"relative z-10\"\n            animate={{ opacity: isOpen ? 0 : 1 }}\n            transition={{ duration: 0.15 }}\n          >\n            {React.cloneElement(childElement, commonProps)}\n          </motion.div>\n        </div>\n      );\n    }\n\n    // Non-animated asChild - wrap in div for ref capture\n    return (\n      <div\n        ref={triggerRef as React.RefObject<HTMLDivElement>}\n        className=\"contents\"\n      >\n        {React.cloneElement(childElement, commonProps)}\n      </div>\n    );\n  }\n\n  // Default button trigger with morphing\n  if (!disableAnimation) {\n    return (\n      <div\n        ref={triggerRef as React.RefObject<HTMLDivElement>}\n        className={cn(\"relative inline-flex cursor-pointer\", className)}\n        style={{\n          ...style,\n          pointerEvents: isOpen ? \"none\" : \"auto\",\n        }}\n        role=\"button\"\n        tabIndex={isOpen ? -1 : 0}\n        {...commonProps}\n      >\n        {/* Morphing background layer - transparent, explicitly no border */}\n        <motion.div\n          layoutId={`dialog-${uniqueId}`}\n          className=\"absolute inset-0 -z-10 rounded-lg border-0\"\n          initial={false}\n          animate={{\n            opacity: isOpen ? 0 : 1,\n            borderWidth: 0,\n          }}\n          transition={dialogSprings.morph}\n          style={{\n            backgroundColor: \"transparent\",\n            borderWidth: 0,\n            borderStyle: \"none\",\n            boxShadow: \"none\",\n            outline: \"none\",\n          }}\n        />\n        {/* Static content with fade */}\n        <motion.span\n          className=\"relative z-10 inline-flex items-center gap-2\"\n          animate={{ opacity: isOpen ? 0 : 1 }}\n          transition={{ duration: 0.15 }}\n        >\n          {children}\n        </motion.span>\n      </div>\n    );\n  }\n\n  // Non-animated trigger\n  return (\n    <div\n      ref={triggerRef as React.RefObject<HTMLDivElement>}\n      className={cn(\"relative inline-flex cursor-pointer\", className)}\n      style={style}\n      role=\"button\"\n      tabIndex={0}\n      {...commonProps}\n    >\n      {children}\n    </div>\n  );\n}\n\nAlertDialogTrigger.displayName = \"AlertDialogTrigger\";\n\n// =============================================================================\n// ALERT DIALOG CONTAINER (PORTAL)\n// =============================================================================\n\n/**\n * AlertDialogContainer props\n */\nexport interface AlertDialogContainerProps {\n  /** Child content (typically AlertDialogContent) */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\n/**\n * AlertDialogContainer - Portal wrapper with backdrop\n *\n * Renders content in a portal with backdrop and center positioning.\n * Handles AnimatePresence for enter/exit animations.\n */\nfunction AlertDialogContainer({ children }: AlertDialogContainerProps) {\n  const { isOpen, uniqueId, disableAnimation } = useAlertDialog();\n  const mounted = useIsMounted();\n\n  if (!mounted) return null;\n\n  return createPortal(\n    <AnimatePresence initial={false} mode=\"wait\">\n      {isOpen && (\n        <MotionConfig transition={dialogSprings.morph}>\n          {/* Backdrop with blur - z-[100] to be above all UI elements */}\n          {disableAnimation ? (\n            <div\n              key={`backdrop-${uniqueId}`}\n              className=\"fixed inset-0 z-[100] bg-black/50 backdrop-blur-lg\"\n              data-slot=\"alert-dialog-backdrop\"\n            />\n          ) : (\n            <motion.div\n              key={`backdrop-${uniqueId}`}\n              className=\"fixed inset-0 z-[100] bg-black/50 backdrop-blur-lg\"\n              data-slot=\"alert-dialog-backdrop\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={dialogSprings.backdrop}\n            />\n          )}\n\n          {/* Centered container - z-[101] above backdrop, pointer-events-none to allow clicks through */}\n          <div className=\"fixed inset-0 z-[101] flex items-center justify-center p-4 pointer-events-none\">\n            {children}\n          </div>\n        </MotionConfig>\n      )}\n    </AnimatePresence>,\n    document.body\n  );\n}\n\nAlertDialogContainer.displayName = \"AlertDialogContainer\";\n\n// =============================================================================\n// ALERT DIALOG CONTENT\n// =============================================================================\n\n/**\n * AlertDialogContent props\n */\nexport interface AlertDialogContentProps {\n  /** Child content */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Show close button in corner */\n  showCloseButton?: boolean;\n  /** Callback when close button clicked */\n  onCloseButtonClick?: () => void;\n  /** Prevent Escape key from closing (default: false for Radix compatibility) */\n  preventEscapeClose?: boolean;\n  /** Prevent clicking outside from closing (default: true) */\n  preventOutsideClose?: boolean;\n  /**\n   * When true, only renders the content panel (legacy mode for use with explicit Container).\n   * When false (default), includes portal and overlay automatically (shadcn mode).\n   */\n  standalone?: boolean;\n}\n\n/**\n * AlertDialogContent - Main dialog panel with integrated portal and overlay\n *\n * Contains the dialog content with morphing animation.\n * Handles focus trapping and keyboard interactions.\n *\n * In shadcn mode (default), this component includes:\n * - Portal rendering to document.body\n * - Animated backdrop overlay\n * - Centered positioning\n *\n * In standalone mode, it only renders the content panel.\n */\nfunction AlertDialogContent({\n  children,\n  className,\n  style,\n  showCloseButton = false,\n  onCloseButtonClick,\n  preventEscapeClose = false, // Changed to false for Radix/shadcn compatibility\n  preventOutsideClose = true,\n  standalone = false,\n}: AlertDialogContentProps) {\n  const {\n    setIsOpen,\n    isOpen,\n    uniqueId,\n    triggerRef,\n    contentRef,\n    disableAnimation,\n  } = useAlertDialog();\n\n  const mounted = useIsMounted();\n\n  // Focus trap refs\n  const firstFocusableRef = useRef<HTMLElement | null>(null);\n  const lastFocusableRef = useRef<HTMLElement | null>(null);\n\n  // Handle escape key and focus trap\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Escape key handling\n      if (event.key === \"Escape\" && !preventEscapeClose) {\n        setIsOpen(false);\n        return;\n      }\n\n      // Focus trap with Tab key\n      if (event.key === \"Tab\") {\n        const first = firstFocusableRef.current;\n        const last = lastFocusableRef.current;\n\n        if (!first || !last) return;\n\n        if (event.shiftKey) {\n          if (document.activeElement === first) {\n            event.preventDefault();\n            last.focus();\n          }\n        } else {\n          if (document.activeElement === last) {\n            event.preventDefault();\n            first.focus();\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isOpen, setIsOpen, preventEscapeClose]);\n\n  // Body scroll lock and initial focus\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const triggerElement = triggerRef.current;\n    const contentElement = contentRef.current;\n\n    // Save original body overflow\n    const originalOverflow = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n\n    // Find focusable elements\n    const focusableSelector =\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n    const focusableElements =\n      contentElement?.querySelectorAll(focusableSelector);\n\n    if (focusableElements && focusableElements.length > 0) {\n      firstFocusableRef.current = focusableElements[0] as HTMLElement;\n      lastFocusableRef.current = focusableElements[\n        focusableElements.length - 1\n      ] as HTMLElement;\n\n      // Focus first element after animation\n      requestAnimationFrame(() => {\n        (focusableElements[0] as HTMLElement).focus();\n      });\n    }\n\n    return () => {\n      document.body.style.overflow = originalOverflow;\n      triggerElement?.focus();\n    };\n  }, [isOpen, triggerRef, contentRef]);\n\n  // Handle outside click\n  useEffect(() => {\n    if (!isOpen || preventOutsideClose) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        contentRef.current &&\n        !contentRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    // Delay to prevent immediate closing\n    const timeoutId = setTimeout(() => {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }, 0);\n\n    return () => {\n      clearTimeout(timeoutId);\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen, setIsOpen, preventOutsideClose, contentRef]);\n\n  // Content styles\n  const contentClasses = cn(\n    \"relative z-10 pointer-events-auto\",\n    \"overflow-hidden\",\n    \"rounded-2xl sm:rounded-3xl\",\n    \"border border-border\",\n    \"bg-background\",\n    \"shadow-2xl shadow-black/50 dark:shadow-black/80\",\n    \"outline-none focus:outline-none\",\n    \"focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n    \"w-full max-w-[calc(100vw-2rem)] sm:max-w-md\",\n    className\n  );\n\n  // Content panel component\n  const ContentPanel = disableAnimation ? (\n    <div\n      ref={contentRef}\n      className={contentClasses}\n      style={style}\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      aria-labelledby={`${uniqueId}-title`}\n      aria-describedby={`${uniqueId}-description`}\n      id={`${uniqueId}-content`}\n      data-slot=\"alert-dialog-content\"\n      data-state=\"open\"\n    >\n      {showCloseButton && <AlertDialogClose onClick={onCloseButtonClick} />}\n      {children}\n    </div>\n  ) : (\n    <motion.div\n      ref={contentRef}\n      layoutId={`dialog-${uniqueId}`}\n      className={contentClasses}\n      style={{ ...style, borderRadius: 24 }}\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      aria-labelledby={`${uniqueId}-title`}\n      aria-describedby={`${uniqueId}-description`}\n      id={`${uniqueId}-content`}\n      data-slot=\"alert-dialog-content\"\n      data-state=\"open\"\n      initial={false}\n      transition={dialogSprings.morph}\n    >\n      {showCloseButton && <AlertDialogClose onClick={onCloseButtonClick} />}\n      {children}\n    </motion.div>\n  );\n\n  // Standalone mode: just return the content panel (for use with explicit Container)\n  if (standalone) {\n    return ContentPanel;\n  }\n\n  // shadcn mode: include portal and overlay\n  if (!mounted) return null;\n\n  return createPortal(\n    <AnimatePresence initial={false} mode=\"wait\">\n      {isOpen && (\n        <MotionConfig transition={dialogSprings.morph}>\n          {/* Backdrop with blur - z-[100] to be above all UI elements */}\n          {disableAnimation ? (\n            <div\n              key={`backdrop-${uniqueId}`}\n              className=\"fixed inset-0 z-[100] bg-black/50 backdrop-blur-lg\"\n              data-slot=\"alert-dialog-overlay\"\n            />\n          ) : (\n            <motion.div\n              key={`backdrop-${uniqueId}`}\n              className=\"fixed inset-0 z-[100] bg-black/50 backdrop-blur-lg\"\n              data-slot=\"alert-dialog-overlay\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={dialogSprings.backdrop}\n            />\n          )}\n\n          {/* Centered container - z-[101] above backdrop, pointer-events-none to allow clicks through */}\n          <div className=\"fixed inset-0 z-[101] flex items-center justify-center p-4 pointer-events-none\">\n            {ContentPanel}\n          </div>\n        </MotionConfig>\n      )}\n    </AnimatePresence>,\n    document.body\n  );\n}\n\nAlertDialogContent.displayName = \"AlertDialogContent\";\n\n// =============================================================================\n// ALERT DIALOG HEADER\n// =============================================================================\n\n/**\n * AlertDialogHeader props\n */\nexport interface AlertDialogHeaderProps {\n  /** Child content */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Optional icon to display */\n  icon?: ReactNode;\n  /** Icon wrapper class */\n  iconClassName?: string;\n}\n\n/**\n * AlertDialogHeader - Header section with optional icon\n */\nfunction AlertDialogHeader({\n  children,\n  className,\n  icon,\n  iconClassName,\n}: AlertDialogHeaderProps) {\n  return (\n    <div\n      className={cn(\n        \"flex flex-col items-center text-center gap-4 sm:gap-5\",\n        className\n      )}\n      data-slot=\"alert-dialog-header\"\n    >\n      {icon && (\n        <div\n          className={cn(\n            \"size-14 sm:size-16 rounded-full flex items-center justify-center\",\n            \"bg-primary/10 dark:bg-primary/20\",\n            iconClassName\n          )}\n        >\n          {icon}\n        </div>\n      )}\n      <div className=\"space-y-2 sm:space-y-3\">{children}</div>\n    </div>\n  );\n}\n\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\n\n// =============================================================================\n// ALERT DIALOG BODY\n// =============================================================================\n\n/**\n * AlertDialogBody props\n */\nexport interface AlertDialogBodyProps {\n  /** Child content */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * AlertDialogBody - Main content area with fade animation\n */\nfunction AlertDialogBody({ children, className }: AlertDialogBodyProps) {\n  const { disableAnimation } = useAlertDialog();\n\n  const bodyClasses = cn(\n    \"flex flex-col items-center text-center gap-5 sm:gap-6 p-6 sm:p-8\",\n    className\n  );\n\n  if (!disableAnimation) {\n    return (\n      <motion.div\n        className={bodyClasses}\n        data-slot=\"alert-dialog-body\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={dialogSprings.content}\n      >\n        {children}\n      </motion.div>\n    );\n  }\n\n  return (\n    <div className={bodyClasses} data-slot=\"alert-dialog-body\">\n      {children}\n    </div>\n  );\n}\n\nAlertDialogBody.displayName = \"AlertDialogBody\";\n\n// =============================================================================\n// ALERT DIALOG FOOTER\n// =============================================================================\n\n/**\n * AlertDialogFooter props\n */\nexport interface AlertDialogFooterProps {\n  /** Child content (action buttons) */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * AlertDialogFooter - Footer section for action buttons\n */\nfunction AlertDialogFooter({ children, className }: AlertDialogFooterProps) {\n  return (\n    <div\n      className={cn(\n        \"flex flex-col w-full gap-2 sm:gap-3 pt-1 sm:pt-2\",\n        className\n      )}\n      data-slot=\"alert-dialog-footer\"\n    >\n      {children}\n    </div>\n  );\n}\n\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\n\n// =============================================================================\n// ALERT DIALOG TITLE\n// =============================================================================\n\n/**\n * AlertDialogTitle props\n */\nexport interface AlertDialogTitleProps {\n  /** Title text */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\n/**\n * AlertDialogTitle - Dialog title for aria-labelledby\n */\nfunction AlertDialogTitle({\n  children,\n  className,\n  style,\n}: AlertDialogTitleProps) {\n  const { uniqueId } = useAlertDialog();\n\n  return (\n    <div\n      className={cn(\n        \"text-lg sm:text-xl font-semibold tracking-tight leading-tight\",\n        \"text-foreground\",\n        className\n      )}\n      style={style}\n      id={`${uniqueId}-title`}\n      data-slot=\"alert-dialog-title\"\n    >\n      {children}\n    </div>\n  );\n}\n\nAlertDialogTitle.displayName = \"AlertDialogTitle\";\n\n// =============================================================================\n// ALERT DIALOG SUBTITLE\n// =============================================================================\n\n/**\n * AlertDialogSubtitle props\n */\nexport interface AlertDialogSubtitleProps {\n  /** Subtitle text */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\n/**\n * AlertDialogSubtitle - Optional subtitle below the title\n */\nfunction AlertDialogSubtitle({\n  children,\n  className,\n  style,\n}: AlertDialogSubtitleProps) {\n  const { disableAnimation } = useAlertDialog();\n\n  if (disableAnimation) {\n    return (\n      <div\n        className={cn(\"text-sm text-muted-foreground font-medium\", className)}\n        style={style}\n        data-slot=\"alert-dialog-subtitle\"\n      >\n        {children}\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      className={cn(\"text-sm text-muted-foreground font-medium\", className)}\n      style={style}\n      data-slot=\"alert-dialog-subtitle\"\n      initial={{ opacity: 0, y: 4 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{\n        ...dialogSprings.content,\n        delay: dialogSprings.contentFadeDelay + 0.02,\n      }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\nAlertDialogSubtitle.displayName = \"AlertDialogSubtitle\";\n\n// =============================================================================\n// ALERT DIALOG DESCRIPTION\n// =============================================================================\n\n/**\n * AlertDialogDescription props\n */\nexport interface AlertDialogDescriptionProps {\n  /** Description text */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\n/**\n * AlertDialogDescription - Dialog description for aria-describedby\n */\nfunction AlertDialogDescription({\n  children,\n  className,\n  style,\n}: AlertDialogDescriptionProps) {\n  const { uniqueId } = useAlertDialog();\n\n  return (\n    <div\n      className={cn(\n        \"text-sm sm:text-[13px] text-muted-foreground leading-relaxed\",\n        \"max-w-full sm:max-w-[280px] mx-auto\",\n        className\n      )}\n      style={style}\n      id={`${uniqueId}-description`}\n      data-slot=\"alert-dialog-description\"\n    >\n      {children}\n    </div>\n  );\n}\n\nAlertDialogDescription.displayName = \"AlertDialogDescription\";\n\n// =============================================================================\n// ALERT DIALOG ACTION BUTTON\n// =============================================================================\n\n/**\n * AlertDialogAction props\n */\nexport interface AlertDialogActionProps {\n  /** Button label */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Button variant - use \"destructive\" for dangerous actions */\n  variant?: \"default\" | \"destructive\";\n  /** Click handler */\n  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  /** Disable the button */\n  disabled?: boolean;\n}\n\n/**\n * AlertDialogAction - Primary action button that closes the dialog\n *\n * @example\n * ```tsx\n * <AlertDialogAction variant=\"destructive\">Delete</AlertDialogAction>\n * <AlertDialogAction>Confirm</AlertDialogAction>\n * ```\n */\nfunction AlertDialogAction({\n  children,\n  className,\n  style,\n  variant = \"default\",\n  onClick,\n  disabled = false,\n}: AlertDialogActionProps) {\n  const { setIsOpen } = useAlertDialog();\n\n  const isDestructive = variant === \"destructive\";\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(event);\n      if (!event.defaultPrevented) {\n        setIsOpen(false);\n      }\n    },\n    [onClick, setIsOpen]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        \"inline-flex items-center justify-center\",\n        \"rounded-xl sm:rounded-2xl px-5 py-3 sm:py-3.5\",\n        \"text-sm sm:text-base font-semibold\",\n        \"shadow-sm\",\n        isDestructive\n          ? \"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:bg-destructive/80\"\n          : \"bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80\",\n        \"transition-all duration-150\",\n        \"active:scale-[0.98]\",\n        \"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        \"touch-manipulation select-none\",\n        disabled && \"opacity-50 cursor-not-allowed pointer-events-none\",\n        className\n      )}\n      style={style}\n      onClick={handleClick}\n      disabled={disabled}\n      data-slot=\"alert-dialog-action\"\n    >\n      {children}\n    </button>\n  );\n}\n\nAlertDialogAction.displayName = \"AlertDialogAction\";\n\n// =============================================================================\n// ALERT DIALOG CANCEL BUTTON\n// =============================================================================\n\n/**\n * AlertDialogCancel props\n */\nexport interface AlertDialogCancelProps {\n  /** Button label (defaults to \"Cancel\") */\n  children?: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Click handler */\n  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  /** Disable the button */\n  disabled?: boolean;\n}\n\n/**\n * AlertDialogCancel - Secondary button that closes the dialog\n */\nfunction AlertDialogCancel({\n  children = \"Cancel\",\n  className,\n  style,\n  onClick,\n  disabled = false,\n}: AlertDialogCancelProps) {\n  const { setIsOpen } = useAlertDialog();\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(event);\n      if (!event.defaultPrevented) {\n        setIsOpen(false);\n      }\n    },\n    [onClick, setIsOpen]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        \"inline-flex items-center justify-center\",\n        \"rounded-xl sm:rounded-2xl px-5 py-3 sm:py-3.5\",\n        \"text-sm sm:text-base font-medium\",\n        \"bg-secondary text-secondary-foreground shadow-sm\",\n        \"hover:bg-secondary/90 active:bg-secondary/80\",\n        \"dark:bg-secondary/80 dark:hover:bg-secondary/70\",\n        \"transition-all duration-150\",\n        \"active:scale-[0.98]\",\n        \"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        \"touch-manipulation select-none\",\n        disabled && \"opacity-50 cursor-not-allowed pointer-events-none\",\n        className\n      )}\n      style={style}\n      onClick={handleClick}\n      disabled={disabled}\n      data-slot=\"alert-dialog-cancel\"\n    >\n      {children}\n    </button>\n  );\n}\n\nAlertDialogCancel.displayName = \"AlertDialogCancel\";\n\n// =============================================================================\n// ALERT DIALOG CLOSE BUTTON (X ICON)\n// =============================================================================\n\n/**\n * AlertDialogClose props\n */\nexport interface AlertDialogCloseProps {\n  /** Additional CSS classes */\n  className?: string;\n  /** Click handler */\n  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\n/**\n * AlertDialogClose - Close button with X icon (optional)\n */\nfunction AlertDialogClose({ className, onClick }: AlertDialogCloseProps) {\n  const { setIsOpen } = useAlertDialog();\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(event);\n      if (!event.defaultPrevented) {\n        setIsOpen(false);\n      }\n    },\n    [onClick, setIsOpen]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        \"absolute top-4 right-4\",\n        \"p-1.5 rounded-full\",\n        \"text-muted-foreground hover:text-foreground\",\n        \"hover:bg-muted/80\",\n        \"transition-colors duration-150\",\n        \"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n        className\n      )}\n      onClick={handleClick}\n      aria-label=\"Close dialog\"\n      data-slot=\"alert-dialog-close\"\n    >\n      <XIcon className=\"size-4\" aria-hidden=\"true\" />\n    </button>\n  );\n}\n\nAlertDialogClose.displayName = \"AlertDialogClose\";\n\n// =============================================================================\n// ALERT DIALOG IMAGE\n// =============================================================================\n\n/**\n * AlertDialogImage props\n */\nexport interface AlertDialogImageProps {\n  /** Image source URL */\n  src: string;\n  /** Alt text for accessibility */\n  alt: string;\n  /** Additional CSS classes */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\n/**\n * AlertDialogImage - Image with fade animation\n */\nfunction AlertDialogImage({\n  src,\n  alt,\n  className,\n  style,\n}: AlertDialogImageProps) {\n  const { disableAnimation } = useAlertDialog();\n\n  if (!disableAnimation) {\n    return (\n      <motion.img\n        src={src}\n        alt={alt}\n        className={cn(className)}\n        style={style}\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        transition={{ duration: 0.2, delay: 0.05, ease: \"easeOut\" }}\n        data-slot=\"alert-dialog-image\"\n      />\n    );\n  }\n\n  return (\n    // eslint-disable-next-line @next/next/no-img-element\n    <img\n      src={src}\n      alt={alt}\n      className={cn(className)}\n      style={style}\n      data-slot=\"alert-dialog-image\"\n    />\n  );\n}\n\nAlertDialogImage.displayName = \"AlertDialogImage\";\n\n// =============================================================================\n// COMPONENT EXPORT\n// =============================================================================\n\n/**\n * AlertDialog - Container component that manages dialog state.\n *\n * Use with named exports for sub-components.\n *\n * @example\n * ```tsx\n * <AlertDialog>\n *   <AlertDialogTrigger asChild>\n *     <Button>Delete</Button>\n *   </AlertDialogTrigger>\n *   <AlertDialogContent>\n *     <AlertDialogTitle>Delete Item?</AlertDialogTitle>\n *     <AlertDialogDescription>This cannot be undone.</AlertDialogDescription>\n *     <AlertDialogAction variant=\"destructive\">Delete</AlertDialogAction>\n *     <AlertDialogCancel />\n *   </AlertDialogContent>\n * </AlertDialog>\n * ```\n */\nconst AlertDialog = AlertDialogRoot;\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\n// Primary export\nexport { AlertDialog };\n\n// Named exports for direct imports\nexport {\n  AlertDialogRoot,\n  AlertDialogTrigger,\n  AlertDialogContainer,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogBody,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogSubtitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogClose,\n  AlertDialogImage,\n};\n",
      "type": "registry:ui"
    },
    {
      "path": "components/motion-provider.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { createContext, useContext, useMemo } from \"react\";\nimport { MotionConfig, type Transition } from \"motion/react\";\nimport { useReducedMotion } from \"@/hooks/use-reduced-motion\";\nimport { useLowPowerDevice } from \"@/hooks/use-low-power-device\";\nimport { transitions } from \"@/lib/motion\";\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\nexport type ReducedMotionSetting = \"user\" | \"always\" | \"never\";\n\nexport type MotionContextValue = {\n  /** Current reduced motion setting */\n  reducedMotion: ReducedMotionSetting;\n  /** Whether animations are effectively disabled */\n  isAnimationDisabled: boolean;\n  /** Whether low-power mode auto-disable is enabled */\n  lowPowerAutoDisable: boolean;\n  /** Low power device state */\n  lowPowerState: {\n    isLowPower: boolean;\n    batteryLevel: number | null;\n    isCharging: boolean | null;\n  };\n  /** Default transition based on current settings */\n  defaultTransition: Transition;\n};\n\nexport type MotionProviderProps = {\n  children: React.ReactNode;\n  /** How to handle reduced motion: 'user' (system preference), 'always' (force reduced), 'never' (force animations) */\n  reducedMotion?: ReducedMotionSetting;\n  /** Automatically disable animations on low-power devices */\n  lowPowerAutoDisable?: boolean;\n  /** Default transition for all Motion components */\n  defaultTransition?: Transition;\n  /** Additional className for the provider wrapper */\n  className?: string;\n};\n\n// =============================================================================\n// CONTEXT\n// =============================================================================\n\nconst MotionContext = createContext<MotionContextValue | null>(null);\n\n/**\n * Hook to access motion configuration\n *\n * @returns Motion context value with animation settings\n * @throws Error if used outside of MotionProvider\n *\n * @example\n * ```tsx\n * function AnimatedButton() {\n *   const { isAnimationDisabled } = useMotionConfig();\n *\n *   return (\n *     <motion.button\n *       whileTap={isAnimationDisabled ? undefined : { scale: 0.95 }}\n *     />\n *   );\n * }\n * ```\n */\nexport function useMotionConfig(): MotionContextValue {\n  const context = useContext(MotionContext);\n\n  if (!context) {\n    throw new Error(\"useMotionConfig must be used within a MotionProvider\");\n  }\n\n  return context;\n}\n\n/**\n * Hook to check if animations should be disabled for a component\n *\n * @param disableAnimation - Optional local override to disable animation\n * @returns Whether animations should be disabled\n *\n * @example\n * ```tsx\n * function Button({ disableAnimation }) {\n *   const shouldDisable = useShouldDisableAnimation(disableAnimation);\n *\n *   if (shouldDisable) {\n *     return <button>Click me</button>;\n *   }\n *\n *   return <motion.button whileTap={{ scale: 0.95 }}>Click me</motion.button>;\n * }\n * ```\n */\nexport function useShouldDisableAnimation(disableAnimation?: boolean): boolean {\n  const context = useContext(MotionContext);\n  const prefersReducedMotion = useReducedMotion();\n\n  // Local override takes precedence\n  if (disableAnimation !== undefined) {\n    return disableAnimation;\n  }\n\n  // If no provider, check system preference directly\n  if (!context) {\n    return prefersReducedMotion;\n  }\n\n  return context.isAnimationDisabled;\n}\n\n/**\n * Hook to get the appropriate transition based on animation settings\n *\n * @param transition - Desired transition when animations are enabled\n * @param disableAnimation - Optional local override\n * @returns The transition to use (reduced if animations disabled)\n */\nexport function useAnimationTransition(\n  transition: Transition = transitions.default,\n  disableAnimation?: boolean,\n): Transition {\n  const shouldDisable = useShouldDisableAnimation(disableAnimation);\n\n  if (shouldDisable) {\n    return transitions.reduced;\n  }\n\n  return transition;\n}\n\n// =============================================================================\n// PROVIDER COMPONENT\n// =============================================================================\n\n/**\n * MotionProvider - Global animation configuration provider\n *\n * Wraps Motion's MotionConfig with additional context for:\n * - Reduced motion preferences (system or manual)\n * - Low-power device detection\n * - Global transition defaults\n *\n * @example\n * ```tsx\n * // In your app layout\n * <MotionProvider\n *   reducedMotion=\"user\"\n *   lowPowerAutoDisable\n * >\n *   <App />\n * </MotionProvider>\n * ```\n */\nexport function MotionProvider({\n  children,\n  reducedMotion = \"user\",\n  lowPowerAutoDisable = true,\n  defaultTransition = transitions.default,\n}: MotionProviderProps) {\n  // System preference for reduced motion\n  const prefersReducedMotion = useReducedMotion();\n\n  // Low-power device detection\n  const lowPowerState = useLowPowerDevice();\n\n  // Determine if animations should be disabled\n  const isAnimationDisabled = useMemo(() => {\n    // 'always' forces reduced motion\n    if (reducedMotion === \"always\") {\n      return true;\n    }\n\n    // 'never' forces animations (ignores preferences)\n    if (reducedMotion === \"never\") {\n      return false;\n    }\n\n    // 'user' respects system preference\n    if (prefersReducedMotion) {\n      return true;\n    }\n\n    // Check low-power mode if auto-disable is enabled\n    if (lowPowerAutoDisable && lowPowerState.shouldReduceAnimations) {\n      return true;\n    }\n\n    return false;\n  }, [\n    reducedMotion,\n    prefersReducedMotion,\n    lowPowerAutoDisable,\n    lowPowerState.shouldReduceAnimations,\n  ]);\n\n  // Get effective transition\n  const effectiveTransition = useMemo(() => {\n    if (isAnimationDisabled) {\n      return transitions.reduced;\n    }\n    return defaultTransition;\n  }, [isAnimationDisabled, defaultTransition]);\n\n  // Context value\n  const contextValue = useMemo<MotionContextValue>(\n    () => ({\n      reducedMotion,\n      isAnimationDisabled,\n      lowPowerAutoDisable,\n      lowPowerState: {\n        isLowPower: lowPowerState.isLowPower,\n        batteryLevel: lowPowerState.batteryLevel,\n        isCharging: lowPowerState.isCharging,\n      },\n      defaultTransition: effectiveTransition,\n    }),\n    [\n      reducedMotion,\n      isAnimationDisabled,\n      lowPowerAutoDisable,\n      lowPowerState.isLowPower,\n      lowPowerState.batteryLevel,\n      lowPowerState.isCharging,\n      effectiveTransition,\n    ],\n  );\n\n  return (\n    <MotionContext.Provider value={contextValue}>\n      <MotionConfig\n        transition={effectiveTransition}\n        reducedMotion={isAnimationDisabled ? \"always\" : \"user\"}\n      >\n        {children}\n      </MotionConfig>\n    </MotionContext.Provider>\n  );\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport { MotionContext };\n",
      "type": "registry:component"
    },
    {
      "path": "hooks/use-reduced-motion.ts",
      "content": "\"use client\";\n\nimport { useSyncExternalStore, useCallback } from \"react\";\n\n/**\n * Hook to detect user's reduced motion preference\n *\n * Uses the `prefers-reduced-motion` media query to detect if the user\n * has requested reduced motion in their system settings.\n *\n * @param override - Optional boolean to override the system preference\n * @returns Whether reduced motion is preferred\n *\n * @example\n * ```tsx\n * function MyComponent() {\n *   const prefersReducedMotion = useReducedMotion();\n *\n *   return (\n *     <motion.div\n *       animate={{ x: prefersReducedMotion ? 0 : 100 }}\n *     />\n *   );\n * }\n * ```\n */\nexport function useReducedMotion(override?: boolean): boolean {\n  const subscribe = useCallback((callback: () => void) => {\n    if (typeof window === \"undefined\") return () => {};\n\n    const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n\n    mediaQuery.addEventListener(\"change\", callback);\n    return () => mediaQuery.removeEventListener(\"change\", callback);\n  }, []);\n\n  const getSnapshot = useCallback(() => {\n    if (typeof window === \"undefined\") return false;\n    return window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n  }, []);\n\n  // Server snapshot should always return false for SSR\n  const getServerSnapshot = useCallback(() => false, []);\n\n  const prefersReducedMotion = useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot,\n  );\n\n  // Override takes precedence if provided\n  if (override !== undefined) {\n    return override;\n  }\n\n  return prefersReducedMotion;\n}\n\nexport default useReducedMotion;\n",
      "type": "registry:hook"
    },
    {
      "path": "hooks/use-low-power-device.ts",
      "content": "\"use client\";\n\nimport { useSyncExternalStore, useCallback } from \"react\";\n\n/**\n * Hook to detect if the device is in a low-power state\n *\n * Checks Battery API and hardware concurrency to determine if\n * animations should be reduced for performance reasons.\n *\n * @returns Object with power state information\n *\n * @example\n * ```tsx\n * function AnimatedComponent() {\n *   const { isLowPower, shouldReduceAnimations } = useLowPowerDevice();\n *\n *   return (\n *     <motion.div\n *       animate={{ scale: shouldReduceAnimations ? 1 : 1.1 }}\n *     />\n *   );\n * }\n * ```\n */\n\ntype BatteryManager = {\n  charging: boolean;\n  level: number;\n  addEventListener: (type: string, listener: () => void) => void;\n  removeEventListener: (type: string, listener: () => void) => void;\n};\n\ntype NavigatorWithBattery = Navigator & {\n  getBattery?: () => Promise<BatteryManager>;\n};\n\nexport type LowPowerState = {\n  /** Whether the device is considered low-power */\n  isLowPower: boolean;\n  /** Whether animations should be reduced */\n  shouldReduceAnimations: boolean;\n  /** Battery level (0-1) if available */\n  batteryLevel: number | null;\n  /** Whether the device is charging */\n  isCharging: boolean | null;\n  /** Number of logical CPU cores */\n  hardwareConcurrency: number;\n};\n\n// Battery state cache\nlet batteryManager: BatteryManager | null = null;\nlet batteryPromise: Promise<BatteryManager | null> | null = null;\n\n// Get battery manager (cached)\nasync function getBatteryManager(): Promise<BatteryManager | null> {\n  if (batteryManager) return batteryManager;\n  if (batteryPromise) return batteryPromise;\n\n  if (typeof navigator === \"undefined\") return null;\n\n  const nav = navigator as NavigatorWithBattery;\n  if (!nav.getBattery) return null;\n\n  batteryPromise = nav.getBattery().catch(() => null);\n  batteryManager = await batteryPromise;\n  return batteryManager;\n}\n\n// Initialize battery manager on module load\nif (typeof window !== \"undefined\") {\n  getBatteryManager();\n}\n\n// Server snapshot - defined once at module level to avoid re-creation\nconst serverSnapshot: LowPowerState = {\n  isLowPower: false,\n  shouldReduceAnimations: false,\n  batteryLevel: null,\n  isCharging: null,\n  hardwareConcurrency: 4,\n};\n\n// Cache the current snapshot to avoid unnecessary re-renders\nlet cachedSnapshot: LowPowerState = serverSnapshot;\n\n// Function to get current snapshot (called outside of React)\nfunction getCurrentSnapshot(): LowPowerState {\n  if (typeof window === \"undefined\") {\n    return serverSnapshot;\n  }\n\n  const hardwareConcurrency = navigator.hardwareConcurrency || 4;\n  const isLowEndDevice = hardwareConcurrency <= 4;\n\n  // Check battery if available\n  let batteryLevel: number | null = null;\n  let isCharging: boolean | null = null;\n  let isLowBattery = false;\n\n  if (batteryManager) {\n    batteryLevel = batteryManager.level;\n    isCharging = batteryManager.charging;\n    // Consider low battery if below 20% and not charging\n    isLowBattery = batteryLevel < 0.2 && !isCharging;\n  }\n\n  const isLowPower = isLowEndDevice || isLowBattery;\n  const shouldReduceAnimations = isLowPower;\n\n  // Only create new object if values actually changed\n  const newSnapshot = {\n    isLowPower,\n    shouldReduceAnimations,\n    batteryLevel,\n    isCharging,\n    hardwareConcurrency,\n  };\n\n  // Compare with cached snapshot\n  if (\n    cachedSnapshot.isLowPower === newSnapshot.isLowPower &&\n    cachedSnapshot.shouldReduceAnimations ===\n      newSnapshot.shouldReduceAnimations &&\n    cachedSnapshot.batteryLevel === newSnapshot.batteryLevel &&\n    cachedSnapshot.isCharging === newSnapshot.isCharging &&\n    cachedSnapshot.hardwareConcurrency === newSnapshot.hardwareConcurrency\n  ) {\n    return cachedSnapshot;\n  }\n\n  cachedSnapshot = newSnapshot;\n  return cachedSnapshot;\n}\n\nexport function useLowPowerDevice(): LowPowerState {\n  const getSnapshot = () => getCurrentSnapshot();\n\n  const getServerSnapshot = () => serverSnapshot;\n\n  const subscribe = useCallback((callback: () => void) => {\n    if (typeof window === \"undefined\") return () => {};\n\n    // Subscribe to battery events if available\n    getBatteryManager().then((battery) => {\n      if (battery) {\n        battery.addEventListener(\"chargingchange\", callback);\n        battery.addEventListener(\"levelchange\", callback);\n      }\n    });\n\n    // Clean up\n    return () => {\n      if (batteryManager) {\n        batteryManager.removeEventListener(\"chargingchange\", callback);\n        batteryManager.removeEventListener(\"levelchange\", callback);\n      }\n    };\n  }, []);\n\n  return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\nexport default useLowPowerDevice;\n",
      "type": "registry:hook"
    },
    {
      "path": "lib/motion.ts",
      "content": "import type { Transition, Variants } from \"motion/react\";\n\n// =============================================================================\n// SPRING PRESETS\n// Spring physics configurations for animations\n// =============================================================================\n\n/**\n * Spring presets for consistent animations\n */\nexport const springPresets = {\n  /**\n   * Snappy - Quick, responsive interactions (buttons, toggles)\n   * High stiffness, high damping = fast and controlled\n   */\n  snappy: {\n    type: \"spring\" as const,\n    stiffness: 400,\n    damping: 30,\n    mass: 1,\n  },\n\n  /**\n   * Bouncy - Playful, attention-grabbing (notifications, toasts)\n   * Medium stiffness, lower damping = visible bounce\n   */\n  bouncy: {\n    type: \"spring\" as const,\n    stiffness: 300,\n    damping: 20,\n    mass: 1,\n  },\n\n  /**\n   * Smooth - Slow transitions (modals, sheets)\n   * Lower stiffness, higher damping = graceful movement\n   */\n  smooth: {\n    type: \"spring\" as const,\n    stiffness: 200,\n    damping: 25,\n    mass: 1,\n  },\n\n  /**\n   * Gentle - Subtle, background animations (fade, scale)\n   * Very low stiffness, high damping = barely perceptible\n   */\n  gentle: {\n    type: \"spring\" as const,\n    stiffness: 150,\n    damping: 30,\n    mass: 1,\n  },\n\n  /**\n   * Interactive - Drag and gesture responses\n   * Balanced for real-time responsiveness\n   */\n  interactive: {\n    type: \"spring\" as const,\n    stiffness: 500,\n    damping: 35,\n    mass: 0.8,\n  },\n} as const;\n\n// =============================================================================\n// TRANSITION PRESETS\n// Pre-configured transitions for common use cases\n// =============================================================================\n\nexport const transitions = {\n  /** Standard transition using snappy spring */\n  default: springPresets.snappy as Transition,\n\n  /** For modal/dialog opening animations */\n  modal: springPresets.smooth as Transition,\n\n  /** For dropdown/popover appearance */\n  popover: {\n    ...springPresets.snappy,\n    duration: 0.2,\n  } as Transition,\n\n  /** For morphing popover with layoutId */\n  morphingPopover: {\n    type: \"spring\" as const,\n    bounce: 0.05,\n    duration: 0.3,\n  } as Transition,\n\n  /** For sheet slide-in animations */\n  sheet: {\n    ...springPresets.smooth,\n    damping: 28,\n  } as Transition,\n\n  /** For button press feedback */\n  button: {\n    ...springPresets.interactive,\n    duration: 0.1,\n  } as Transition,\n\n  /** For icon state changes */\n  icon: {\n    ...springPresets.bouncy,\n    duration: 0.3,\n  } as Transition,\n\n  /** For staggered list items */\n  stagger: {\n    staggerChildren: 0.03,\n    delayChildren: 0.05,\n  } as Transition,\n\n  /** Fast fade for overlays */\n  fade: {\n    type: \"tween\" as const,\n    duration: 0.15,\n    ease: \"easeOut\",\n  } as Transition,\n\n  /** Reduced motion fallback - instant transitions */\n  reduced: {\n    type: \"tween\" as const,\n    duration: 0,\n  } as Transition,\n} as const;\n\n// =============================================================================\n// VARIANT FACTORIES\n// Create animation variants for common patterns\n// =============================================================================\n\n/**\n * Creates scale variants for press/tap interactions\n */\nexport function createPressVariants(scale: number = 0.97): Variants {\n  return {\n    idle: { scale: 1 },\n    pressed: { scale },\n  };\n}\n\n/**\n * Creates hover scale variants\n */\nexport function createHoverVariants(scale: number = 1.02): Variants {\n  return {\n    idle: { scale: 1 },\n    hovered: { scale },\n  };\n}\n\n/**\n * Creates fade + scale variants for modal-like components\n */\nexport function createModalVariants(options?: {\n  initialScale?: number;\n  exitScale?: number;\n}): Variants {\n  const { initialScale = 0.95, exitScale = 0.95 } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n    },\n    exit: {\n      opacity: 0,\n      scale: exitScale,\n    },\n  };\n}\n\n/**\n * Creates slide variants for sheets/drawers\n */\nexport function createSlideVariants(\n  side: \"top\" | \"right\" | \"bottom\" | \"left\",\n): Variants {\n  const transforms: Record<\n    string,\n    { x?: string | number; y?: string | number }\n  > = {\n    top: { y: \"-100%\" },\n    right: { x: \"100%\" },\n    bottom: { y: \"100%\" },\n    left: { x: \"-100%\" },\n  };\n\n  return {\n    initial: { ...transforms[side], opacity: 0 },\n    animate: { x: 0, y: 0, opacity: 1 },\n    exit: { ...transforms[side], opacity: 0 },\n  };\n}\n\n/**\n * Creates staggered children variants for lists\n */\nexport function createStaggerVariants(options?: {\n  staggerChildren?: number;\n  delayChildren?: number;\n}): Variants {\n  const { staggerChildren = 0.03, delayChildren = 0.05 } = options ?? {};\n\n  return {\n    initial: { opacity: 0 },\n    animate: {\n      opacity: 1,\n      transition: {\n        staggerChildren,\n        delayChildren,\n      },\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        staggerChildren: staggerChildren / 2,\n        staggerDirection: -1,\n      },\n    },\n  };\n}\n\n/**\n * Creates item variants for staggered lists\n */\nexport function createStaggerItemVariants(options?: {\n  y?: number;\n  scale?: number;\n}): Variants {\n  const { y = 10, scale = 0.95 } = options ?? {};\n\n  return {\n    initial: { opacity: 0, y, scale },\n    animate: { opacity: 1, y: 0, scale: 1 },\n    exit: { opacity: 0, y: y / 2, scale },\n  };\n}\n\n/**\n * Creates morphing popover variants with blur\n */\nexport function createMorphingPopoverVariants(options?: {\n  initialScale?: number;\n  exitScale?: number;\n  initialBlur?: number;\n  exitBlur?: number;\n}): Variants {\n  const {\n    initialScale = 0.9,\n    exitScale = 0.95,\n    initialBlur = 10,\n    exitBlur = 10,\n  } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n      filter: `blur(${initialBlur}px)`,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      filter: \"blur(0px)\",\n      transition: {\n        type: \"spring\",\n        bounce: 0,\n        duration: 0.3,\n        staggerChildren: 0.05,\n      },\n    },\n    exit: {\n      opacity: 0,\n      scale: exitScale,\n      filter: `blur(${exitBlur}px)`,\n      transition: {\n        duration: 0.2,\n      },\n    },\n  };\n}\n\n/**\n * Creates backdrop/overlay variants\n */\nexport function createBackdropVariants(): Variants {\n  return {\n    initial: { opacity: 0 },\n    animate: { opacity: 1 },\n    exit: { opacity: 0 },\n  };\n}\n\n/**\n * Creates origin-aware scale variants for popovers/dropdowns\n * Scales from the origin point (where it appears from)\n */\nexport function createPopoverVariants(options?: {\n  initialScale?: number;\n  originX?: number;\n  originY?: number;\n}): Variants {\n  const { initialScale = 0.95, originX = 0.5, originY = 0 } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n      originX,\n      originY,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n    },\n    exit: {\n      opacity: 0,\n      scale: initialScale,\n    },\n  };\n}\n\n// =============================================================================\n// GESTURE PRESETS\n// Common gesture configurations\n// =============================================================================\n\nexport const gestures = {\n  /** Standard button tap feedback */\n  button: {\n    whileTap: { scale: 0.97 },\n    whileHover: { scale: 1.02 },\n  },\n\n  /** Subtle press for secondary actions */\n  subtle: {\n    whileTap: { scale: 0.99 },\n  },\n\n  /** Icon button feedback */\n  iconButton: {\n    whileTap: { scale: 0.9 },\n    whileHover: { scale: 1.1 },\n  },\n\n  /** Card hover effect */\n  card: {\n    whileHover: { scale: 1.02, y: -4 },\n    transition: springPresets.smooth,\n  },\n\n  /** List item hover */\n  listItem: {\n    whileHover: { x: 4 },\n    transition: springPresets.snappy,\n  },\n} as const;\n\n// =============================================================================\n// DRAG CONFIGURATION\n// For swipeable/draggable components\n// =============================================================================\n\nexport const dragConfig = {\n  /** Sheet swipe-to-dismiss threshold */\n  sheet: {\n    dismissThreshold: 100,\n    velocityThreshold: 500,\n  },\n\n  /** Drag constraints for bounded elements */\n  bounded: {\n    elastic: 0.1,\n    power: 0.8,\n  },\n} as const;\n\n// =============================================================================\n// EASING FUNCTIONS\n// Cubic-bezier curves for animations\n// =============================================================================\n\nexport const easings = {\n  /** Standard curve */\n  standard: [0.25, 0.1, 0.25, 1],\n  /** Ease-in */\n  easeIn: [0.42, 0, 1, 1],\n  /** Ease-out */\n  easeOut: [0, 0, 0.58, 1],\n  /** Emphasized */\n  emphasis: [0.33, 1, 0.68, 1],\n  /** Linear */\n  linear: [0, 0, 1, 1],\n} as const;\n\n// =============================================================================\n// DURATION PRESETS\n// Consistent timing values\n// =============================================================================\n\nexport const durations = {\n  instant: 0,\n  fast: 0.1,\n  normal: 0.2,\n  slow: 0.3,\n  slower: 0.5,\n  slowest: 0.8,\n} as const;\n\n// =============================================================================\n// UTILITY FUNCTIONS\n// =============================================================================\n\n/**\n * Combines multiple variant objects\n */\nexport function mergeVariants(...variants: Variants[]): Variants {\n  return variants.reduce((acc, variant) => ({ ...acc, ...variant }), {});\n}\n\n/**\n * Creates a transition that respects reduced motion\n */\nexport function getTransition(\n  transition: Transition,\n  prefersReducedMotion: boolean,\n): Transition {\n  if (prefersReducedMotion) {\n    return transitions.reduced;\n  }\n  return transition;\n}\n\n/**\n * Generates a layoutId for shared element transitions\n */\nexport function createLayoutId(prefix: string, id: string | number): string {\n  return `${prefix}-${id}`;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/animations.ts",
      "content": "/**\n * Animation System - Motion constants, utilities, and presets\n *\n * This module provides all animation-related utilities for the component library.\n * It integrates with the design tokens and respects user's reduced motion preferences.\n *\n * @packageDocumentation\n */\n\nimport type { Transition, Variants } from \"motion/react\";\nimport { durations } from \"./tokens\";\n\n// =============================================================================\n// SPRING PRESETS\n// Physics-based spring configurations for natural animations\n// =============================================================================\n\n/**\n * Spring presets for consistent animations across the library.\n * Each preset is tuned for specific interaction types.\n *\n * @example\n * ```tsx\n * import { springPresets } from '@/lib/animations';\n *\n * <motion.button transition={springPresets.snappy} />\n * ```\n */\nexport const springPresets = {\n  /**\n   * Snappy - Quick, responsive (buttons, toggles, small interactions)\n   * High stiffness + high damping = fast and controlled\n   */\n  snappy: {\n    type: \"spring\" as const,\n    stiffness: 400,\n    damping: 30,\n    mass: 1,\n  },\n\n  /**\n   * Bouncy - Playful, attention-grabbing (notifications, toasts)\n   * Medium stiffness + lower damping = visible bounce\n   */\n  bouncy: {\n    type: \"spring\" as const,\n    stiffness: 300,\n    damping: 20,\n    mass: 1,\n  },\n\n  /**\n   * Smooth - Slow, graceful transitions (modals, sheets)\n   * Lower stiffness + higher damping = elegant movement\n   */\n  smooth: {\n    type: \"spring\" as const,\n    stiffness: 200,\n    damping: 25,\n    mass: 1,\n  },\n\n  /**\n   * Gentle - Subtle, background animations (fades, micro-interactions)\n   * Very low stiffness + high damping = barely perceptible\n   */\n  gentle: {\n    type: \"spring\" as const,\n    stiffness: 150,\n    damping: 30,\n    mass: 1,\n  },\n\n  /**\n   * Interactive - Drag and gesture responses\n   * Balanced for real-time input tracking\n   */\n  interactive: {\n    type: \"spring\" as const,\n    stiffness: 500,\n    damping: 35,\n    mass: 0.8,\n  },\n\n  /**\n   * Morphing - For layoutId shared element transitions\n   * Zero bounce for clean morphing\n   */\n  morphing: {\n    type: \"spring\" as const,\n    bounce: 0,\n    duration: 0.5,\n  },\n} as const;\n\n// =============================================================================\n// TRANSITION PRESETS\n// Pre-configured transitions for common use cases\n// =============================================================================\n\n/**\n * Transition presets for various component types.\n *\n * @example\n * ```tsx\n * <motion.div transition={transitions.modal} />\n * ```\n */\nexport const transitions = {\n  /** Standard transition using snappy spring */\n  default: springPresets.snappy as Transition,\n\n  /** For modal/dialog opening animations */\n  modal: springPresets.smooth as Transition,\n\n  /** For dropdown/popover appearance */\n  popover: {\n    ...springPresets.snappy,\n    duration: 0.2,\n  } as Transition,\n\n  /** For morphing popover with layoutId */\n  morphingPopover: {\n    type: \"spring\" as const,\n    bounce: 0.05,\n    duration: 0.3,\n  } as Transition,\n\n  /** For sheet slide-in animations */\n  sheet: {\n    ...springPresets.smooth,\n    damping: 28,\n  } as Transition,\n\n  /** For button press feedback */\n  button: {\n    ...springPresets.interactive,\n    duration: 0.1,\n  } as Transition,\n\n  /** For icon state changes */\n  icon: {\n    ...springPresets.bouncy,\n    duration: 0.3,\n  } as Transition,\n\n  /** For staggered list items */\n  stagger: {\n    staggerChildren: 0.03,\n    delayChildren: 0.05,\n  } as Transition,\n\n  /** Fast fade for overlays/backdrops */\n  fade: {\n    type: \"tween\" as const,\n    duration: 0.15,\n    ease: \"easeOut\",\n  } as Transition,\n\n  /** Reduced motion fallback - instant */\n  reduced: {\n    type: \"tween\" as const,\n    duration: 0,\n  } as Transition,\n\n  /** Content fade in after morph */\n  contentFade: {\n    duration: 0.25,\n    delay: 0.15,\n    ease: [0.32, 0.72, 0, 1] as const,\n  } as Transition,\n\n  /** Backdrop fade */\n  backdrop: {\n    duration: 0.25,\n    ease: \"easeOut\" as const,\n  } as Transition,\n} as const;\n\n// =============================================================================\n// EASING FUNCTIONS\n// Cubic-bezier curves for tween animations\n// =============================================================================\n\n/**\n * Easing curves for tween animations.\n * Use these when spring physics isn't appropriate.\n */\nexport const easings = {\n  /** Standard ease curve */\n  standard: [0.25, 0.1, 0.25, 1] as const,\n  /** Acceleration curve */\n  easeIn: [0.42, 0, 1, 1] as const,\n  /** Deceleration curve */\n  easeOut: [0, 0, 0.58, 1] as const,\n  /** Emphasized movement */\n  emphasis: [0.33, 1, 0.68, 1] as const,\n  /** Linear - no easing */\n  linear: [0, 0, 1, 1] as const,\n  /** Overshoot - slight bounce at end */\n  overshoot: [0.34, 1.56, 0.64, 1] as const,\n} as const;\n\n// =============================================================================\n// DURATION CONSTANTS\n// Consistent timing values (mirrors tokens.durations)\n// =============================================================================\n\nexport { durations };\n\n// =============================================================================\n// VARIANT FACTORIES\n// Create animation variants for common patterns\n// =============================================================================\n\n/**\n * Creates scale variants for press/tap interactions\n *\n * @param scale - The scale to apply when pressed (default: 0.97)\n * @returns Variants object for motion components\n *\n * @example\n * ```tsx\n * const pressVariants = createPressVariants(0.95);\n * <motion.button variants={pressVariants} whileTap=\"pressed\" />\n * ```\n */\nexport function createPressVariants(scale = 0.97): Variants {\n  return {\n    idle: { scale: 1 },\n    pressed: { scale },\n  };\n}\n\n/**\n * Creates hover scale variants\n *\n * @param scale - The scale to apply when hovered (default: 1.02)\n * @returns Variants object for motion components\n */\nexport function createHoverVariants(scale = 1.02): Variants {\n  return {\n    idle: { scale: 1 },\n    hovered: { scale },\n  };\n}\n\n/**\n * Creates fade + scale variants for modal-like components\n *\n * @param options - Configuration for initial and exit scales\n * @returns Variants for enter/exit animations\n *\n * @example\n * ```tsx\n * const modalVariants = createModalVariants({ initialScale: 0.9 });\n * <motion.div variants={modalVariants} initial=\"initial\" animate=\"animate\" exit=\"exit\" />\n * ```\n */\nexport function createModalVariants(options?: {\n  initialScale?: number;\n  exitScale?: number;\n}): Variants {\n  const { initialScale = 0.95, exitScale = 0.95 } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n    },\n    exit: {\n      opacity: 0,\n      scale: exitScale,\n    },\n  };\n}\n\n/**\n * Creates slide variants for sheets/drawers\n *\n * @param side - The side the sheet slides from\n * @returns Variants for enter/exit animations\n */\nexport function createSlideVariants(\n  side: \"top\" | \"right\" | \"bottom\" | \"left\",\n): Variants {\n  const transforms: Record<\n    string,\n    { x?: string | number; y?: string | number }\n  > = {\n    top: { y: \"-100%\" },\n    right: { x: \"100%\" },\n    bottom: { y: \"100%\" },\n    left: { x: \"-100%\" },\n  };\n\n  return {\n    initial: { ...transforms[side], opacity: 0 },\n    animate: { x: 0, y: 0, opacity: 1 },\n    exit: { ...transforms[side], opacity: 0 },\n  };\n}\n\n/**\n * Creates staggered children variants for lists\n *\n * @param options - Configuration for stagger timing\n * @returns Variants for parent container\n */\nexport function createStaggerVariants(options?: {\n  staggerChildren?: number;\n  delayChildren?: number;\n}): Variants {\n  const { staggerChildren = 0.03, delayChildren = 0.05 } = options ?? {};\n\n  return {\n    initial: { opacity: 0 },\n    animate: {\n      opacity: 1,\n      transition: {\n        staggerChildren,\n        delayChildren,\n      },\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        staggerChildren: staggerChildren / 2,\n        staggerDirection: -1,\n      },\n    },\n  };\n}\n\n/**\n * Creates item variants for staggered lists\n *\n * @param options - Configuration for item animation\n * @returns Variants for list items\n */\nexport function createStaggerItemVariants(options?: {\n  y?: number;\n  scale?: number;\n}): Variants {\n  const { y = 10, scale = 0.95 } = options ?? {};\n\n  return {\n    initial: { opacity: 0, y, scale },\n    animate: { opacity: 1, y: 0, scale: 1 },\n    exit: { opacity: 0, y: y / 2, scale },\n  };\n}\n\n/**\n * Creates morphing popover variants with blur\n *\n * @param options - Configuration for morph animation\n * @returns Variants for morphing components\n */\nexport function createMorphingPopoverVariants(options?: {\n  initialScale?: number;\n  exitScale?: number;\n  initialBlur?: number;\n  exitBlur?: number;\n}): Variants {\n  const {\n    initialScale = 0.9,\n    exitScale = 0.95,\n    initialBlur = 10,\n    exitBlur = 10,\n  } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n      filter: `blur(${initialBlur}px)`,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      filter: \"blur(0px)\",\n      transition: {\n        type: \"spring\",\n        bounce: 0,\n        duration: 0.3,\n        staggerChildren: 0.05,\n      },\n    },\n    exit: {\n      opacity: 0,\n      scale: exitScale,\n      filter: `blur(${exitBlur}px)`,\n      transition: {\n        duration: 0.2,\n      },\n    },\n  };\n}\n\n/**\n * Creates backdrop/overlay variants\n *\n * @returns Variants for backdrop elements\n */\nexport function createBackdropVariants(): Variants {\n  return {\n    initial: { opacity: 0 },\n    animate: { opacity: 1 },\n    exit: { opacity: 0 },\n  };\n}\n\n/**\n * Creates origin-aware scale variants for popovers/dropdowns\n *\n * @param options - Configuration for popover animation\n * @returns Variants for popover components\n */\nexport function createPopoverVariants(options?: {\n  initialScale?: number;\n  originX?: number;\n  originY?: number;\n}): Variants {\n  const { initialScale = 0.95, originX = 0.5, originY = 0 } = options ?? {};\n\n  return {\n    initial: {\n      opacity: 0,\n      scale: initialScale,\n      originX,\n      originY,\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n    },\n    exit: {\n      opacity: 0,\n      scale: initialScale,\n    },\n  };\n}\n\n/**\n * Creates dropdown menu variants with blur and stagger\n *\n * @returns Variants for dropdown menus\n */\nexport function createDropdownVariants(): Variants {\n  return {\n    initial: {\n      opacity: 0,\n      scale: 0.92,\n      y: -12,\n      filter: \"blur(12px)\",\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      y: 0,\n      filter: \"blur(0px)\",\n      transition: {\n        ...springPresets.smooth,\n        stiffness: 260,\n        damping: 32,\n        mass: 1.02,\n        delayChildren: 0.08,\n        staggerChildren: 0.035,\n      },\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.96,\n      y: -6,\n      filter: \"blur(6px)\",\n      transition: {\n        type: \"tween\",\n        duration: 0.18,\n        ease: easings.easeIn,\n      },\n    },\n  };\n}\n\n/**\n * Creates dropdown item variants with blur\n *\n * @returns Variants for dropdown menu items\n */\nexport function createDropdownItemVariants(): Variants {\n  return {\n    initial: {\n      opacity: 0,\n      y: -6,\n      scale: 0.98,\n      filter: \"blur(6px)\",\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      filter: \"blur(0px)\",\n    },\n    exit: {\n      opacity: 0,\n      y: -4,\n      scale: 0.98,\n      filter: \"blur(4px)\",\n      transition: {\n        duration: 0.14,\n        ease: easings.easeIn,\n      },\n    },\n  };\n}\n\n/**\n * Creates check/indicator variants with bounce\n *\n * @returns Variants for checkbox/radio indicators\n */\nexport function createIndicatorVariants(): Variants {\n  return {\n    initial: {\n      scale: 0.6,\n      opacity: 0,\n      rotate: -8,\n    },\n    animate: {\n      scale: 1,\n      opacity: 1,\n      rotate: 0,\n      transition: {\n        ...springPresets.bouncy,\n        stiffness: 460,\n        damping: 28,\n        mass: 0.9,\n      },\n    },\n    exit: {\n      scale: 0.6,\n      opacity: 0,\n      rotate: 8,\n      transition: {\n        duration: 0.16,\n        ease: easings.easeIn,\n      },\n    },\n  };\n}\n\n// =============================================================================\n// GESTURE PRESETS\n// Common gesture configurations\n// =============================================================================\n\n/**\n * Gesture presets for interactive elements.\n *\n * @example\n * ```tsx\n * <motion.button {...gestures.button} />\n * ```\n */\nexport const gestures = {\n  /** Standard button tap feedback */\n  button: {\n    whileTap: { scale: 0.97 },\n    whileHover: { scale: 1.02 },\n  },\n\n  /** Subtle press for secondary actions */\n  subtle: {\n    whileTap: { scale: 0.99 },\n  },\n\n  /** Icon button feedback */\n  iconButton: {\n    whileTap: { scale: 0.9 },\n    whileHover: { scale: 1.1 },\n  },\n\n  /** Card hover effect */\n  card: {\n    whileHover: { scale: 1.02, y: -4 },\n    transition: springPresets.smooth,\n  },\n\n  /** List item hover */\n  listItem: {\n    whileHover: { x: 4 },\n    transition: springPresets.snappy,\n  },\n} as const;\n\n// =============================================================================\n// DRAG CONFIGURATION\n// For swipeable/draggable components\n// =============================================================================\n\n/**\n * Drag configurations for swipeable components.\n */\nexport const dragConfig = {\n  /** Sheet swipe-to-dismiss threshold */\n  sheet: {\n    dismissThreshold: 100,\n    velocityThreshold: 500,\n  },\n\n  /** Drag constraints for bounded elements */\n  bounded: {\n    elastic: 0.1,\n    power: 0.8,\n  },\n} as const;\n\n// =============================================================================\n// UTILITY FUNCTIONS\n// =============================================================================\n\n/**\n * Combines multiple variant objects into one\n *\n * @param variants - Variants to merge\n * @returns Combined variants object\n */\nexport function mergeVariants(...variants: Variants[]): Variants {\n  return variants.reduce((acc, variant) => ({ ...acc, ...variant }), {});\n}\n\n/**\n * Returns appropriate transition based on reduced motion preference\n *\n * @param transition - The desired transition\n * @param prefersReducedMotion - Whether user prefers reduced motion\n * @returns The appropriate transition\n */\nexport function getTransition(\n  transition: Transition,\n  prefersReducedMotion: boolean,\n): Transition {\n  if (prefersReducedMotion) {\n    return transitions.reduced;\n  }\n  return transition;\n}\n\n/**\n * Generates a layoutId for shared element transitions\n *\n * @param prefix - Component type prefix\n * @param id - Unique identifier\n * @returns A stable layoutId string\n */\nexport function createLayoutId(prefix: string, id: string | number): string {\n  return `${prefix}-${id}`;\n}\n\n/**\n * Gets variants that respect reduced motion preference\n *\n * @param variants - Original variants\n * @param prefersReducedMotion - Whether user prefers reduced motion\n * @returns Modified variants with instant transitions if needed\n */\nexport function getReducedMotionVariants(\n  variants: Variants,\n  prefersReducedMotion: boolean,\n): Variants {\n  if (!prefersReducedMotion) {\n    return variants;\n  }\n\n  // Return variants with instant state changes, no animation properties\n  const reducedVariants: Variants = {};\n\n  for (const [key, value] of Object.entries(variants)) {\n    if (typeof value === \"object\" && value !== null) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { transition, ...visualProps } = value as Record<string, unknown>;\n      // Cast to Variant since we're just removing the transition property\n      reducedVariants[key] = visualProps as Variants[string];\n    } else {\n      reducedVariants[key] = value;\n    }\n  }\n\n  return reducedVariants;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "lib/tokens.ts",
      "content": "/**\n * Design Tokens - Single source of truth for all visual design\n *\n * These tokens define the design language for the component library.\n * Always reference tokens instead of hardcoding values.\n *\n * @packageDocumentation\n */\n\n// =============================================================================\n// COLOR SYSTEM\n// Using OKLCH for better perceptual uniformity\n// Colors are semantic - use these, not raw values\n// =============================================================================\n\nexport const colors = {\n  /**\n   * Primitive colors - Raw color palette (reference only)\n   * Use semantic tokens in components, not these directly\n   */\n  primitives: {\n    white: \"oklch(1 0 0)\",\n    black: \"oklch(0 0 0)\",\n    gray: {\n      50: \"oklch(0.985 0 0)\",\n      100: \"oklch(0.97 0 0)\",\n      200: \"oklch(0.922 0 0)\",\n      300: \"oklch(0.87 0 0)\",\n      400: \"oklch(0.708 0 0)\",\n      500: \"oklch(0.556 0 0)\",\n      600: \"oklch(0.44 0 0)\",\n      700: \"oklch(0.371 0 0)\",\n      800: \"oklch(0.269 0 0)\",\n      900: \"oklch(0.205 0 0)\",\n      950: \"oklch(0.145 0 0)\",\n    },\n    red: {\n      50: \"oklch(0.97 0.02 20)\",\n      100: \"oklch(0.94 0.05 20)\",\n      500: \"oklch(0.637 0.237 25.331)\",\n      600: \"oklch(0.577 0.245 27.325)\",\n      700: \"oklch(0.505 0.213 27.518)\",\n    },\n    blue: {\n      50: \"oklch(0.97 0.02 250)\",\n      100: \"oklch(0.94 0.05 250)\",\n      500: \"oklch(0.623 0.214 259.532)\",\n      600: \"oklch(0.546 0.245 262.881)\",\n    },\n  },\n\n  /**\n   * Semantic colors - Use these in components\n   * Maps to CSS variables defined in globals.css\n   */\n  semantic: {\n    background: \"var(--background)\",\n    foreground: \"var(--foreground)\",\n    card: \"var(--card)\",\n    cardForeground: \"var(--card-foreground)\",\n    popover: \"var(--popover)\",\n    popoverForeground: \"var(--popover-foreground)\",\n    primary: \"var(--primary)\",\n    primaryForeground: \"var(--primary-foreground)\",\n    secondary: \"var(--secondary)\",\n    secondaryForeground: \"var(--secondary-foreground)\",\n    muted: \"var(--muted)\",\n    mutedForeground: \"var(--muted-foreground)\",\n    accent: \"var(--accent)\",\n    accentForeground: \"var(--accent-foreground)\",\n    destructive: \"var(--destructive)\",\n    border: \"var(--border)\",\n    input: \"var(--input)\",\n    ring: \"var(--ring)\",\n  },\n} as const;\n\n// =============================================================================\n// SPACING SCALE\n// 4px base, 4px increments (1 unit = 4px)\n// =============================================================================\n\nexport const spacing = {\n  0: \"0\",\n  px: \"1px\",\n  0.5: \"0.125rem\", // 2px\n  1: \"0.25rem\", // 4px\n  1.5: \"0.375rem\", // 6px\n  2: \"0.5rem\", // 8px\n  2.5: \"0.625rem\", // 10px\n  3: \"0.75rem\", // 12px\n  3.5: \"0.875rem\", // 14px\n  4: \"1rem\", // 16px\n  5: \"1.25rem\", // 20px\n  6: \"1.5rem\", // 24px\n  7: \"1.75rem\", // 28px\n  8: \"2rem\", // 32px\n  9: \"2.25rem\", // 36px\n  10: \"2.5rem\", // 40px\n  11: \"2.75rem\", // 44px\n  12: \"3rem\", // 48px\n  14: \"3.5rem\", // 56px\n  16: \"4rem\", // 64px\n  20: \"5rem\", // 80px\n  24: \"6rem\", // 96px\n  28: \"7rem\", // 112px\n  32: \"8rem\", // 128px\n} as const;\n\n// =============================================================================\n// BORDER RADIUS\n// 8px base with 4px increments\n// =============================================================================\n\nexport const radius = {\n  none: \"0\",\n  sm: \"calc(var(--radius) - 4px)\", // ~8px\n  md: \"calc(var(--radius) - 2px)\", // ~10px\n  DEFAULT: \"var(--radius)\", // ~12px\n  lg: \"var(--radius)\", // ~12px\n  xl: \"calc(var(--radius) + 4px)\", // ~16px\n  \"2xl\": \"calc(var(--radius) + 8px)\", // ~20px\n  \"3xl\": \"calc(var(--radius) + 12px)\", // ~24px\n  full: \"9999px\",\n} as const;\n\n// =============================================================================\n// TYPOGRAPHY SCALE\n// =============================================================================\n\nexport const typography = {\n  /**\n   * Font Size Scale\n   */\n  fontSize: {\n    xs: [\"0.75rem\", { lineHeight: \"1rem\" }], // 12px\n    sm: [\"0.875rem\", { lineHeight: \"1.25rem\" }], // 14px\n    base: [\"1rem\", { lineHeight: \"1.5rem\" }], // 16px\n    lg: [\"1.125rem\", { lineHeight: \"1.75rem\" }], // 18px\n    xl: [\"1.25rem\", { lineHeight: \"1.75rem\" }], // 20px\n    \"2xl\": [\"1.5rem\", { lineHeight: \"2rem\" }], // 24px\n    \"3xl\": [\"1.875rem\", { lineHeight: \"2.25rem\" }], // 30px\n    \"4xl\": [\"2.25rem\", { lineHeight: \"2.5rem\" }], // 36px\n    \"5xl\": [\"3rem\", { lineHeight: \"1\" }], // 48px\n    \"6xl\": [\"3.75rem\", { lineHeight: \"1\" }], // 60px\n  },\n\n  /**\n   * Font Weight Scale\n   */\n  fontWeight: {\n    thin: \"100\",\n    extralight: \"200\",\n    light: \"300\",\n    normal: \"400\",\n    medium: \"500\",\n    semibold: \"600\",\n    bold: \"700\",\n    extrabold: \"800\",\n    black: \"900\",\n  },\n\n  /**\n   * Letter Spacing\n   */\n  letterSpacing: {\n    tighter: \"-0.05em\",\n    tight: \"-0.025em\",\n    normal: \"0em\",\n    wide: \"0.025em\",\n    wider: \"0.05em\",\n    widest: \"0.1em\",\n  },\n\n  /**\n   * Line Height\n   */\n  lineHeight: {\n    none: \"1\",\n    tight: \"1.25\",\n    snug: \"1.375\",\n    normal: \"1.5\",\n    relaxed: \"1.625\",\n    loose: \"2\",\n  },\n} as const;\n\n// =============================================================================\n// SHADOW ELEVATIONS\n// 0-5 levels following Material Design elevation philosophy\n// =============================================================================\n\nexport const shadows = {\n  none: \"none\",\n  xs: \"var(--shadow-xs)\",\n  sm: \"var(--shadow-sm)\",\n  DEFAULT: \"var(--shadow-md)\",\n  md: \"var(--shadow-md)\",\n  lg: \"var(--shadow-lg)\",\n  xl: \"var(--shadow-xl)\",\n  \"2xl\": \"var(--shadow-2xl)\",\n  inner: \"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)\",\n} as const;\n\n// =============================================================================\n// Z-INDEX LAYERS\n// Prevents z-index wars - use these, never raw numbers\n// =============================================================================\n\nexport const zIndex = {\n  auto: \"auto\",\n  base: 0,\n  dropdown: 1000,\n  sticky: 1100,\n  fixed: 1200,\n  overlay: 1300,\n  modal: 1400,\n  popover: 1500,\n  tooltip: 1600,\n  toast: 1700,\n} as const;\n\n// =============================================================================\n// ANIMATION DURATIONS\n// Standardized timing values\n// =============================================================================\n\nexport const durations = {\n  instant: 0,\n  fastest: 50,\n  fast: 100,\n  normal: 200,\n  slow: 300,\n  slower: 500,\n  slowest: 800,\n} as const;\n\n// =============================================================================\n// EASING FUNCTIONS\n// Cubic-bezier curves for CSS transitions\n// =============================================================================\n\nexport const easings = {\n  linear: \"linear\",\n  ease: \"ease\",\n  easeIn: \"cubic-bezier(0.4, 0, 1, 1)\",\n  easeOut: \"cubic-bezier(0, 0, 0.2, 1)\",\n  easeInOut: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  /** Spring-like (CSS approximation) */\n  spring: \"cubic-bezier(0.34, 1.56, 0.64, 1)\",\n  /** Snappy - for buttons, toggles */\n  snappy: \"var(--spring-snappy)\",\n  /** Bouncy - for attention */\n  bouncy: \"var(--spring-bouncy)\",\n  /** Smooth - for modals */\n  smooth: \"var(--spring-smooth)\",\n} as const;\n\n// =============================================================================\n// BREAKPOINTS\n// Responsive design breakpoints\n// =============================================================================\n\nexport const breakpoints = {\n  sm: \"640px\",\n  md: \"768px\",\n  lg: \"1024px\",\n  xl: \"1280px\",\n  \"2xl\": \"1536px\",\n} as const;\n\n// =============================================================================\n// SIZES\n// Component size presets\n// =============================================================================\n\nexport const sizes = {\n  /** Touch target minimum (44px iOS, 48dp Android) */\n  touchTarget: \"44px\",\n  /** Icon sizes */\n  icon: {\n    xs: \"0.75rem\", // 12px\n    sm: \"0.875rem\", // 14px\n    DEFAULT: \"1rem\", // 16px\n    md: \"1.25rem\", // 20px\n    lg: \"1.5rem\", // 24px\n    xl: \"2rem\", // 32px\n  },\n  /** Button heights */\n  button: {\n    sm: \"2.25rem\", // 36px\n    DEFAULT: \"2.5rem\", // 40px\n    md: \"2.5rem\", // 40px\n    lg: \"2.75rem\", // 44px\n    xl: \"3rem\", // 48px\n  },\n  /** Input heights */\n  input: {\n    sm: \"2.25rem\", // 36px\n    DEFAULT: \"2.5rem\", // 40px\n    md: \"2.5rem\", // 40px\n    lg: \"2.75rem\", // 44px\n  },\n} as const;\n\n// =============================================================================\n// OPACITY VALUES\n// Consistent transparency levels\n// =============================================================================\n\nexport const opacity = {\n  0: \"0\",\n  5: \"0.05\",\n  10: \"0.1\",\n  15: \"0.15\",\n  20: \"0.2\",\n  25: \"0.25\",\n  30: \"0.3\",\n  40: \"0.4\",\n  50: \"0.5\",\n  60: \"0.6\",\n  70: \"0.7\",\n  75: \"0.75\",\n  80: \"0.8\",\n  90: \"0.9\",\n  95: \"0.95\",\n  100: \"1\",\n} as const;\n\n// =============================================================================\n// BLUR VALUES\n// For glassmorphism and backdrop effects\n// =============================================================================\n\nexport const blur = {\n  none: \"0\",\n  sm: \"var(--blur-sm)\", // 4px\n  DEFAULT: \"var(--blur-md)\", // 8px\n  md: \"var(--blur-md)\", // 8px\n  lg: \"var(--blur-lg)\", // 16px\n  xl: \"var(--blur-xl)\", // 20px\n  \"2xl\": \"var(--blur-2xl)\", // 32px\n} as const;\n\n// =============================================================================\n// TYPE EXPORTS\n// For use in component prop types\n// =============================================================================\n\nexport type Spacing = keyof typeof spacing;\nexport type Radius = keyof typeof radius;\nexport type Shadow = keyof typeof shadows;\nexport type ZIndex = keyof typeof zIndex;\nexport type Duration = keyof typeof durations;\nexport type Easing = keyof typeof easings;\nexport type Breakpoint = keyof typeof breakpoints;\nexport type IconSize = keyof typeof sizes.icon;\nexport type ButtonSize = keyof typeof sizes.button;\nexport type Opacity = keyof typeof opacity;\nexport type Blur = keyof typeof blur;\n\n// =============================================================================\n// TOKEN ACCESS HELPERS\n// =============================================================================\n\n/**\n * Gets a spacing value by key\n * @example getSpacing(4) => '1rem'\n */\nexport function getSpacing(key: Spacing): string {\n  return spacing[key];\n}\n\n/**\n * Gets a radius value by key\n * @example getRadius('lg') => 'var(--radius)'\n */\nexport function getRadius(key: Radius): string {\n  return radius[key];\n}\n\n/**\n * Gets a z-index value by key\n * @example getZIndex('modal') => 1400\n */\nexport function getZIndex(key: ZIndex): string | number {\n  return zIndex[key];\n}\n\n/**\n * Gets a duration value in ms\n * @example getDuration('normal') => 200\n */\nexport function getDuration(key: Duration): number {\n  return durations[key];\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "hooks/use-stable-id.ts",
      "content": "\"use client\";\n\nimport { useId, useMemo } from \"react\";\n\n// Global counter for SSR-safe IDs when useId is not available\nlet globalCounter = 0;\n\n/**\n * Generates a stable, SSR-safe ID that persists across renders.\n *\n * This hook ensures that IDs remain consistent between server and client\n * renders, preventing hydration mismatches. It uses React 18's useId\n * when available, with a fallback for older React versions.\n *\n * @param prefix - Optional prefix for the generated ID\n * @returns A stable, unique ID string\n *\n * @example\n * ```tsx\n * function MyComponent() {\n *   const id = useStableId('dialog');\n *\n *   return (\n *     <div aria-labelledby={`${id}-title`}>\n *       <h2 id={`${id}-title`}>Title</h2>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useStableId(prefix = \"id\"): string {\n  // Use React 18+'s useId for truly stable SSR-safe IDs\n  const reactId = useId();\n\n  // Memoize the ID construction - this is stable and render-safe\n  const stableId = useMemo(() => {\n    // React's useId returns values like \":r0:\" - clean it up\n    const cleanId = reactId.replace(/:/g, \"\");\n    return `${prefix}-${cleanId}`;\n  }, [reactId, prefix]);\n\n  return stableId;\n}\n\n/**\n * Generates a stable ID without React's useId hook.\n * Use this as a fallback or in non-component contexts.\n *\n *  Warning: This may cause hydration mismatches if used during SSR.\n * Prefer useStableId in React components.\n *\n * @param prefix - Optional prefix for the generated ID\n * @returns A unique ID string\n *\n * @example\n * ```tsx\n * function MyComponent() {\n *   const idRef = useRef<string | null>(null);\n *\n *   if (!idRef.current) {\n *     idRef.current = generateId('button');\n *   }\n *\n *   return <button id={idRef.current}>Click me</button>;\n * }\n * ```\n */\nexport function generateId(prefix = \"id\"): string {\n  return `${prefix}-${++globalCounter}`;\n}\n\n/**\n * Hook that generates related IDs for a component and its parts.\n *\n * Useful for components with multiple elements that need related IDs\n * (e.g., dialog with title, description, content).\n *\n * @param prefix - Base prefix for all IDs\n * @returns An object with methods to generate related IDs\n *\n * @example\n * ```tsx\n * function Dialog() {\n *   const ids = useRelatedIds('dialog');\n *\n *   return (\n *     <div\n *       role=\"dialog\"\n *       aria-labelledby={ids.for('title')}\n *       aria-describedby={ids.for('description')}\n *     >\n *       <h2 id={ids.for('title')}>Title</h2>\n *       <p id={ids.for('description')}>Description</p>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useRelatedIds(prefix = \"component\"): {\n  base: string;\n  for: (part: string) => string;\n} {\n  const baseId = useStableId(prefix);\n\n  return {\n    base: baseId,\n    for: (part: string) => `${baseId}-${part}`,\n  };\n}\n\nexport default useStableId;\n",
      "type": "registry:hook"
    },
    {
      "path": "hooks/use-controllable-state.ts",
      "content": "\"use client\";\n\nimport {\n  useState,\n  useCallback,\n  useRef,\n  useEffect,\n  type Dispatch,\n  type SetStateAction,\n} from \"react\";\n\n/**\n * Configuration for useControllableState hook\n */\nexport interface UseControllableStateParams<T> {\n  /**\n   * The controlled value. If provided, the component is controlled.\n   */\n  value?: T;\n  /**\n   * The default value for uncontrolled mode.\n   */\n  defaultValue?: T | (() => T);\n  /**\n   * Callback fired when the value changes.\n   */\n  onChange?: (value: T) => void;\n}\n\n/**\n * Hook for creating state that can be either controlled or uncontrolled.\n *\n * This pattern allows components to work in both controlled and uncontrolled modes,\n * giving consumers flexibility in how they use the component.\n *\n * @param params - Configuration parameters\n * @returns A tuple of [value, setValue] similar to useState\n *\n * @example\n * ```tsx\n * // Uncontrolled usage\n * function MyComponent({ defaultOpen, onOpenChange }) {\n *   const [isOpen, setIsOpen] = useControllableState({\n *     defaultValue: defaultOpen ?? false,\n *     onChange: onOpenChange,\n *   });\n *\n *   return <div>{isOpen ? 'Open' : 'Closed'}</div>;\n * }\n *\n * // Controlled usage\n * function MyComponent({ open, onOpenChange }) {\n *   const [isOpen, setIsOpen] = useControllableState({\n *     value: open,\n *     onChange: onOpenChange,\n *   });\n *\n *   return <div>{isOpen ? 'Open' : 'Closed'}</div>;\n * }\n * ```\n */\nexport function useControllableState<T>({\n  value: controlledValue,\n  defaultValue,\n  onChange,\n}: UseControllableStateParams<T>): [T, Dispatch<SetStateAction<T>>] {\n  // Determine if component is controlled\n  const isControlled = controlledValue !== undefined;\n  const isControlledRef = useRef(isControlled);\n\n  // Warn about switching between controlled and uncontrolled\n  useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (isControlledRef.current !== isControlled) {\n        console.warn(\n          \"A component is changing from \" +\n            (isControlledRef.current ? \"controlled\" : \"uncontrolled\") +\n            \" to \" +\n            (isControlled ? \"controlled\" : \"uncontrolled\") +\n            \". This is likely caused by the value changing from a defined to undefined, \" +\n            \"which should not happen. Decide between using a controlled or uncontrolled \" +\n            \"component for the lifetime of the component.\",\n        );\n      }\n    }\n  }, [isControlled]);\n\n  // Internal state for uncontrolled mode\n  const [uncontrolledValue, setUncontrolledValue] = useState<T>(() => {\n    if (typeof defaultValue === \"function\") {\n      return (defaultValue as () => T)();\n    }\n    return defaultValue as T;\n  });\n\n  // The value to use (controlled or uncontrolled)\n  const value = isControlled ? controlledValue : uncontrolledValue;\n\n  // Stable reference to onChange callback\n  const onChangeRef = useRef(onChange);\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n\n  // Setter function that handles both modes\n  const setValue = useCallback(\n    (nextValue: SetStateAction<T>) => {\n      const resolvedValue =\n        typeof nextValue === \"function\"\n          ? (nextValue as (prev: T) => T)(value)\n          : nextValue;\n\n      // In uncontrolled mode, update internal state\n      if (!isControlled) {\n        setUncontrolledValue(resolvedValue);\n      }\n\n      // Always call onChange if provided\n      onChangeRef.current?.(resolvedValue);\n    },\n    [isControlled, value],\n  );\n\n  return [value, setValue];\n}\n\n/**\n * Simpler version for boolean state (common for open/close patterns)\n */\nexport interface UseControllableBooleanParams {\n  value?: boolean;\n  defaultValue?: boolean;\n  onChange?: (value: boolean) => void;\n}\n\n/**\n * Specialized hook for boolean controllable state\n *\n * @param params - Configuration parameters\n * @returns Tuple with value, setValue, and convenience methods\n *\n * @example\n * ```tsx\n * const [isOpen, setIsOpen, { open, close, toggle }] = useControllableBoolean({\n *   defaultValue: false,\n *   onChange: onOpenChange,\n * });\n * ```\n */\nexport function useControllableBoolean({\n  value,\n  defaultValue = false,\n  onChange,\n}: UseControllableBooleanParams): [\n  boolean,\n  Dispatch<SetStateAction<boolean>>,\n  { open: () => void; close: () => void; toggle: () => void },\n] {\n  const [isOpen, setIsOpen] = useControllableState({\n    value,\n    defaultValue,\n    onChange,\n  });\n\n  const open = useCallback(() => setIsOpen(true), [setIsOpen]);\n  const close = useCallback(() => setIsOpen(false), [setIsOpen]);\n  const toggle = useCallback(() => setIsOpen((prev) => !prev), [setIsOpen]);\n\n  return [isOpen, setIsOpen, { open, close, toggle }];\n}\n\nexport default useControllableState;\n",
      "type": "registry:hook"
    }
  ],
  "cssVars": {
    "light": {
      "radius": "0.75rem",
      "background": "oklch(1 0 0)",
      "foreground": "oklch(0.145 0 0)",
      "card": "oklch(1 0 0)",
      "card-foreground": "oklch(0.145 0 0)",
      "popover": "oklch(1 0 0)",
      "popover-foreground": "oklch(0.145 0 0)",
      "primary": "oklch(0.205 0 0)",
      "primary-foreground": "oklch(0.985 0 0)",
      "secondary": "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      "muted": "oklch(0.97 0 0)",
      "muted-foreground": "oklch(0.556 0 0)",
      "accent": "oklch(0.97 0 0)",
      "accent-foreground": "oklch(0.205 0 0)",
      "destructive": "oklch(0.577 0.245 27.325)",
      "destructive-foreground": "oklch(0.985 0 0)",
      "border": "oklch(0.922 0 0)",
      "input": "oklch(0.922 0 0)",
      "ring": "oklch(0.708 0 0)",
      "chart-1": "oklch(0.646 0.222 41.116)",
      "chart-2": "oklch(0.6 0.118 184.704)",
      "chart-3": "oklch(0.398 0.07 227.392)",
      "chart-4": "oklch(0.828 0.189 84.429)",
      "chart-5": "oklch(0.769 0.188 70.08)",
      "sidebar": "oklch(0.985 0 0)",
      "sidebar-foreground": "oklch(0.145 0 0)",
      "sidebar-primary": "oklch(0.205 0 0)",
      "sidebar-primary-foreground": "oklch(0.985 0 0)",
      "sidebar-accent": "oklch(0.97 0 0)",
      "sidebar-accent-foreground": "oklch(0.205 0 0)",
      "sidebar-border": "oklch(0.922 0 0)",
      "sidebar-ring": "oklch(0.708 0 0)",
      "shadow-xs": "0 1px 2px oklch(0 0 0 / 0.04)",
      "shadow-sm": "0 1px 3px oklch(0 0 0 / 0.06), 0 1px 2px oklch(0 0 0 / 0.04)",
      "shadow-md": "0 4px 6px oklch(0 0 0 / 0.05), 0 2px 4px oklch(0 0 0 / 0.04)",
      "shadow-lg": "0 10px 15px oklch(0 0 0 / 0.08), 0 4px 6px oklch(0 0 0 / 0.04)",
      "shadow-xl": "0 20px 25px oklch(0 0 0 / 0.1), 0 8px 10px oklch(0 0 0 / 0.05)",
      "shadow-2xl": "0 25px 50px oklch(0 0 0 / 0.15)"
    },
    "dark": {
      "background": "oklch(0.21 0.006 285.885)",
      "foreground": "oklch(0.985 0 0)",
      "card": "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      "popover": "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      "primary": "oklch(0.922 0 0)",
      "primary-foreground": "oklch(0.205 0 0)",
      "secondary": "oklch(0.269 0 0)",
      "secondary-foreground": "oklch(0.985 0 0)",
      "muted": "oklch(0.269 0 0)",
      "muted-foreground": "oklch(0.708 0 0)",
      "accent": "oklch(0.269 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      "destructive": "oklch(0.704 0.191 22.216)",
      "destructive-foreground": "oklch(0.985 0 0)",
      "border": "oklch(1 0 0 / 10%)",
      "input": "oklch(1 0 0 / 15%)",
      "ring": "oklch(0.556 0 0)",
      "chart-1": "oklch(0.488 0.243 264.376)",
      "chart-2": "oklch(0.696 0.17 162.48)",
      "chart-3": "oklch(0.769 0.188 70.08)",
      "chart-4": "oklch(0.627 0.265 303.9)",
      "chart-5": "oklch(0.645 0.246 16.439)",
      "sidebar": "oklch(0.205 0 0)",
      "sidebar-foreground": "oklch(0.985 0 0)",
      "sidebar-primary": "oklch(0.488 0.243 264.376)",
      "sidebar-primary-foreground": "oklch(0.985 0 0)",
      "sidebar-accent": "oklch(0.269 0 0)",
      "sidebar-accent-foreground": "oklch(0.985 0 0)",
      "sidebar-border": "oklch(1 0 0 / 10%)",
      "sidebar-ring": "oklch(0.556 0 0)",
      "shadow-xs": "0 1px 2px oklch(0 0 0 / 0.1)",
      "shadow-sm": "0 1px 3px oklch(0 0 0 / 0.15), 0 1px 2px oklch(0 0 0 / 0.1)",
      "shadow-md": "0 4px 6px oklch(0 0 0 / 0.15), 0 2px 4px oklch(0 0 0 / 0.1)",
      "shadow-lg": "0 10px 15px oklch(0 0 0 / 0.2), 0 4px 6px oklch(0 0 0 / 0.1)",
      "shadow-xl": "0 20px 25px oklch(0 0 0 / 0.25), 0 8px 10px oklch(0 0 0 / 0.1)",
      "shadow-2xl": "0 25px 50px oklch(0 0 0 / 0.35)"
    },
    "theme": {
      "--color-background": "var(--background)",
      "--color-foreground": "var(--foreground)",
      "--color-card": "var(--card)",
      "--color-card-foreground": "var(--card-foreground)",
      "--color-popover": "var(--popover)",
      "--color-popover-foreground": "var(--popover-foreground)",
      "--color-primary": "var(--primary)",
      "--color-primary-foreground": "var(--primary-foreground)",
      "--color-secondary": "var(--secondary)",
      "--color-secondary-foreground": "var(--secondary-foreground)",
      "--color-muted": "var(--muted)",
      "--color-muted-foreground": "var(--muted-foreground)",
      "--color-accent": "var(--accent)",
      "--color-accent-foreground": "var(--accent-foreground)",
      "--color-destructive": "var(--destructive)",
      "--color-destructive-foreground": "var(--destructive-foreground)",
      "--color-border": "var(--border)",
      "--color-input": "var(--input)",
      "--color-ring": "var(--ring)",
      "--radius-sm": "calc(var(--radius) - 4px)",
      "--radius-md": "calc(var(--radius) - 2px)",
      "--radius-lg": "var(--radius)",
      "--radius-xl": "calc(var(--radius) + 4px)"
    }
  },
  "tailwind": {
    "config": {
      "theme": {
        "extend": {
          "fontFamily": {
            "sans": [
              "var(--font-sans)",
              "Inter",
              "ui-sans-serif",
              "system-ui",
              "-apple-system",
              "BlinkMacSystemFont",
              "Segoe UI",
              "Roboto",
              "Helvetica Neue",
              "Arial",
              "Noto Sans",
              "sans-serif"
            ]
          }
        }
      }
    }
  },
  "css": {
    "@layer base": {
      "*": {
        "border-color": "var(--border)",
        "outline-color": "var(--ring)"
      },
      "body": {
        "background-color": "var(--background)",
        "color": "var(--foreground)"
      }
    }
  }
}